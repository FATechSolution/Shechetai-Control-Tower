module.exports=[62477,a=>{"use strict";var b=a.i(62394),c=a.i(23812);let d=new class{apiKey=null;setApiKey(a){this.apiKey=a}async request(a,d={},e=!0){let f={"Content-Type":"application/json"};try{let a=await (0,b.getCurrentUserToken)();a?f.Authorization=`Bearer ${a}`:this.apiKey&&(f["x-api-key"]=this.apiKey)}catch(a){console.warn("Error getting Firebase token (continuing without auth):",a)}d.headers&&Object.assign(f,d.headers);try{let b=e?c.fetchWithRetry:fetch,g=await b(`http://localhost:3000${a}`,{...d,headers:f}),h=await g.json();if(!g.ok)return console.error(`API Error [${g.status}] at ${a}:`,h),{success:!1,error:h.error||"API request failed",data:null};return h}catch(b){return console.error(`Request failed for ${a}:`,b),{success:!1,error:b instanceof Error?b.message:"Request failed",data:null}}}async getOverview(){return this.request("/api/overview")}async getAgents(a){let b=new URLSearchParams;a?.page&&b.set("page",a.page.toString()),a?.limit&&b.set("limit",a.limit.toString()),a?.teamId&&b.set("teamId",a.teamId),a?.status&&b.set("status",a.status),a?.search&&b.set("search",a.search);let c=b.toString();return this.request(`/api/agents${c?`?${c}`:""}`)}async getAgent(a){return this.request(`/api/agents/${a}`)}async createAgent(a){return this.request("/api/agents",{method:"POST",body:JSON.stringify(a)})}async updateAgent(a,b){return this.request(`/api/agents/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteAgent(a){return this.request(`/api/agents/${a}`,{method:"DELETE"})}async getTeams(a){let b=new URLSearchParams;a?.page&&b.set("page",a.page.toString()),a?.limit&&b.set("limit",a.limit.toString()),a?.ownerId&&b.set("ownerId",a.ownerId),a?.status&&b.set("status",a.status),a?.search&&b.set("search",a.search);let c=b.toString();return this.request(`/api/teams${c?`?${c}`:""}`)}async getTeam(a){return this.request(`/api/teams/${a}`)}async createTeam(a){return this.request("/api/teams",{method:"POST",body:JSON.stringify(a)})}async updateTeam(a,b){return this.request(`/api/teams/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteTeam(a){return this.request(`/api/teams/${a}`,{method:"DELETE"})}async getTeamMembers(a){return this.request(`/api/teams/${a}/members`)}async addTeamMember(a,b){return this.request(`/api/teams/${a}/members`,{method:"POST",body:JSON.stringify(b)})}async removeTeamMember(a,b){return this.request(`/api/teams/${a}/members/${b}`,{method:"DELETE"})}async getTeamInvites(a){return this.request(`/api/teams/${a}/invites`)}async createTeamInvite(a,b){return this.request(`/api/teams/${a}/invites`,{method:"POST",body:JSON.stringify(b)})}async getContracts(a){let b=new URLSearchParams;a?.page&&b.set("page",a.page.toString()),a?.limit&&b.set("limit",a.limit.toString()),a?.teamId&&b.set("teamId",a.teamId);let c=b.toString();return this.request(`/api/billing/contracts${c?`?${c}`:""}`)}async getContract(a){return this.request(`/api/billing/contracts/${a}`)}async createContract(a){return this.request("/api/billing/contracts",{method:"POST",body:JSON.stringify(a)})}async updateContract(a,b){return this.request(`/api/billing/contracts/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async cancelContract(a){return this.request(`/api/billing/contracts/${a}`,{method:"DELETE"})}async getInvoices(a){let b=a?`?teamId=${a}`:"";return this.request(`/api/billing/invoices${b}`)}async createInvoice(a){return this.request("/api/billing/invoices",{method:"POST",body:JSON.stringify(a)})}async getWallet(a){return this.request(`/api/wallets?teamId=${a}`)}async createWallet(a){return this.request("/api/wallets",{method:"POST",body:JSON.stringify(a)})}async grantCredits(a){return this.request("/api/credits/grant",{method:"POST",body:JSON.stringify(a)})}async getTransactions(a){let b=new URLSearchParams;a?.page&&b.set("page",a.page.toString()),a?.limit&&b.set("limit",a.limit.toString()),a?.teamId&&b.set("teamId",a.teamId),a?.walletId&&b.set("walletId",a.walletId);let c=b.toString();return this.request(`/api/credits/transactions${c?`?${c}`:""}`)}async getWhiteLabelConfigs(a){let b=a?`?teamId=${a}`:"";return this.request(`/api/white-label${b}`)}async getWhiteLabelConfig(a){return this.request(`/api/white-label/${a}`)}async createWhiteLabelConfig(a){return this.request("/api/white-label",{method:"POST",body:JSON.stringify(a)})}async updateWhiteLabelConfig(a,b){return this.request(`/api/white-label/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteWhiteLabelConfig(a){return this.request(`/api/white-label/${a}`,{method:"DELETE"})}async getReferrals(a){let b=new URLSearchParams;return a?.referrerId&&b.set("referrerId",a.referrerId),a?.status&&b.set("status",a.status),this.request(`/api/referrals?${b}`)}async createReferral(a){return this.request("/api/referrals",{method:"POST",body:JSON.stringify(a)})}async getUsers(a){let b=new URLSearchParams;a?.page&&b.set("page",a.page.toString()),a?.limit&&b.set("limit",a.limit.toString()),a?.role&&b.set("role",a.role),a?.status&&b.set("status",a.status),a?.search&&b.set("search",a.search);let c=b.toString();return this.request(`/api/users${c?`?${c}`:""}`)}async getUser(a){return this.request(`/api/users/${a}`)}async createUser(a){return this.request("/api/users",{method:"POST",body:JSON.stringify(a)})}async updateUser(a,b){return this.request(`/api/users/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteUser(a){return this.request(`/api/users/${a}`,{method:"DELETE"})}async suspendUser(a,b){return this.request(`/api/users/${a}/suspend`,{method:"POST",body:JSON.stringify({reason:b})})}async activateUser(a){return this.request(`/api/users/${a}/activate`,{method:"POST"})}async getAgentAnalytics(a){return this.request(`/api/agents/${a}/analytics`)}async getTeamAnalytics(a){return this.request(`/api/teams/${a}/analytics`)}async getSubscriptions(a){let b=a?`?teamId=${a}`:"";return this.request(`/api/subscriptions${b}`)}async createSubscription(a){return this.request("/api/subscriptions",{method:"POST",body:JSON.stringify(a)})}async cancelSubscription(a,b=!0,c){return this.request(`/api/subscriptions/${a}/cancel`,{method:"POST",body:JSON.stringify({cancelAtPeriodEnd:b,reason:c})})}async getSubscriptionPlans(){return this.request("/api/subscriptions/plans")}async createSubscriptionPlan(a){return this.request("/api/subscriptions/plans",{method:"POST",body:JSON.stringify(a)})}async deleteSubscriptionPlan(a){return this.request(`/api/subscriptions/plans/${a}`,{method:"DELETE"})}async getPaymentMethods(a){let b=a?`?teamId=${a}`:"";return this.request(`/api/payment-methods${b}`)}async addPaymentMethod(a){return this.request("/api/payment-methods",{method:"POST",body:JSON.stringify(a)})}async deletePaymentMethod(a){return this.request(`/api/payment-methods/${a}`,{method:"DELETE"})}async setDefaultPaymentMethod(a){return this.request(`/api/payment-methods/${a}/default`,{method:"POST"})}async getAuditLogs(a){let b=new URLSearchParams;a?.page&&b.set("page",a.page.toString()),a?.limit&&b.set("limit",a.limit.toString()),a?.userId&&b.set("userId",a.userId),a?.resource&&b.set("resource",a.resource),a?.startDate&&b.set("startDate",a.startDate),a?.endDate&&b.set("endDate",a.endDate);let c=b.toString();return this.request(`/api/audit-logs${c?`?${c}`:""}`)}async getFeatureFlags(){return this.request("/api/admin/feature-flags")}async createFeatureFlag(a){return this.request("/api/admin/feature-flags",{method:"POST",body:JSON.stringify(a)})}async updateFeatureFlag(a,b){return this.request(`/api/admin/feature-flags/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async getAdminSettings(a){let b=a?`?category=${a}`:"";return this.request(`/api/admin/settings${b}`)}async updateAdminSettings(a){return this.request("/api/admin/settings",{method:"PUT",body:JSON.stringify(a)})}async getUsageReport(a,b){let c=new URLSearchParams;a&&c.set("startDate",a),b&&c.set("endDate",b);let d=c.toString();return this.request(`/api/reports/usage${d?`?${d}`:""}`)}async generateUsageReport(a){return this.request("/api/reports/usage",{method:"POST",body:JSON.stringify(a)})}};a.s(["apiClient",0,d],62477)},92e3,a=>{"use strict";let b=(0,a.i(70106).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],92e3)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],87532)},16201,a=>{"use strict";let b=(0,a.i(70106).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},31337,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(87532),e=a.i(92e3),f=a.i(16201),g=a.i(41710);let h=(0,a.i(70106).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var i=a.i(62394),j=a.i(50944),k=a.i(62477);function l(){let a=(0,j.useRouter)(),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)({agents:0,teams:0,loading:!0}),[t,u]=(0,c.useState)([]),[v,w]=(0,c.useState)([]);(0,c.useEffect)(()=>{(async()=>{try{let a=await (0,i.getCurrentUserToken)();if(!a)return;let b=await fetch("/api/overview",{headers:{Authorization:`Bearer ${a}`}});if(b.ok){let a=await b.json();s({agents:a.data?.totalAgents||0,teams:a.data?.totalTeams||0,loading:!1})}let c=await k.apiClient.getAgents(),d=await k.apiClient.getTeams();if(c?.success&&c?.data){let a=c.data.data||c.data||[];u(Array.isArray(a)?a:[])}if(d?.success&&d?.data){let a=d.data.data||d.data||[];w(Array.isArray(a)?a:[])}}catch(a){console.error("Error fetching overview:",a),s(a=>({...a,loading:!1}))}})()},[]),(0,c.useEffect)(()=>{if(!l.trim())return void o([]);q(!0);let a=l.toLowerCase(),b=[];t.forEach(c=>{let d=c.agentId||c.id||"",e=c.name||"";(d.toLowerCase().includes(a)||e.toLowerCase().includes(a))&&b.push({type:"agent",id:d,name:e,teamId:c.teamId,status:c.status,icon:"âš™ï¸"})}),v.forEach(c=>{let d=c.teamId||c.id||"",e=c.name||"";(d.toLowerCase().includes(a)||e.toLowerCase().includes(a))&&b.push({type:"team",id:d,name:e,status:c.status,icon:"ðŸ‘¥"})}),o(b),q(!1)},[l,t,v]);let x=[{label:"System Health",value:"Operational",icon:f.CheckCircle,color:"green",status:"All systems operational"},{label:"Active Agents",value:r.loading?"...":r.agents.toString(),icon:e.AlertCircle,color:"cyan",status:"Real-time data"},{label:"Teams",value:r.loading?"...":r.teams.toString(),icon:e.AlertCircle,color:"teal",status:"Real-time data"}];return(0,b.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto space-y-6 sm:space-y-8 animate-fade-in-up",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground mb-1 sm:mb-2",children:"Overview"}),(0,b.jsx)("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Health status and quick navigation to platform resources"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:x.map((a,c)=>{let d=a.icon;return(0,b.jsxs)("div",{style:{animation:`fadeInUp 0.4s ease - out ${.1*c}s both`},className:"bg-card border border-border rounded-lg p-4 sm:p-6 hover:border-primary/50 hover:shadow-lg hover:shadow-primary/5 transition-all duration-300",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm sm:text-base text-card-foreground",children:a.label}),(0,b.jsx)(d,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})]}),(0,b.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-primary",children:a.value}),(0,b.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground mt-2",children:a.status}),(0,b.jsxs)("div",{className:"flex items-center gap-1 mt-3 text-xs text-muted-foreground",children:[(0,b.jsx)(g.Clock,{className:"w-3 h-3"}),"Last update: just now"]})]},a.label)})}),(0,b.jsxs)("div",{className:"bg-card border border-border rounded-lg p-4 sm:p-6 animate-fade-in-up",style:{animationDelay:"0.3s"},children:[(0,b.jsx)("h2",{className:"text-base sm:text-lg font-semibold text-card-foreground mb-2",children:"Quick Search"}),(0,b.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground mb-4",children:"Find and jump directly to teams or agents"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(d.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,b.jsx)("input",{type:"text",placeholder:"Enter teamId or agentId...",value:l,onChange:a=>m(a.target.value),className:"w-full pl-10 pr-3 sm:pr-4 py-2 sm:py-3 bg-input border border-border rounded-lg text-sm sm:text-base text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200"})]}),l&&(0,b.jsxs)("div",{className:"mt-3 sm:mt-4 p-3 sm:p-4 bg-primary/5 border border-primary/20 rounded-lg text-xs sm:text-sm text-muted-foreground animate-fade-in",style:{animation:"fadeIn 0.2s ease - out"},children:[(0,b.jsxs)("p",{className:"font-semibold text-foreground mb-3",children:["Found ",n.length," result",1!==n.length?"s":""]}),n.length>0?(0,b.jsxs)("div",{className:"space-y-2",children:[n.slice(0,5).map((c,d)=>(0,b.jsxs)("button",{onClick:()=>a.push("/dashboard/agents-teams"),className:"w-full text-left p-2 bg-background/50 border border-border/50 rounded-lg hover:bg-primary/10 hover:border-primary/50 transition-all duration-200 flex items-center justify-between group",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm",children:c.icon}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-foreground text-xs sm:text-sm",children:c.name}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"agent"===c.type?`Team: ${c.teamId}`:`ID: ${c.id}`})]})]}),(0,b.jsx)(h,{className:"w-3.5 h-3.5 text-muted-foreground group-hover:text-primary transition-colors flex-shrink-0"})]},d)),n.length>5&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground text-center py-1",children:["+",n.length-5," more results"]})]}):(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:['No agents or teams found matching "',l,'"']})]})]})]})}a.s(["default",()=>l],31337)}];

//# sourceMappingURL=_37b420bd._.js.map