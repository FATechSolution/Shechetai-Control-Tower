module.exports=[15618,a=>{"use strict";let b=(0,a.i(70106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},62477,a=>{"use strict";var b=a.i(62394),c=a.i(23812);let d=new class{apiKey=null;setApiKey(a){this.apiKey=a}async request(a,d={},e=!0){let f={"Content-Type":"application/json"};try{let a=await (0,b.getCurrentUserToken)();a?f.Authorization=`Bearer ${a}`:this.apiKey&&(f["x-api-key"]=this.apiKey)}catch(a){console.warn("Error getting Firebase token (continuing without auth):",a)}d.headers&&Object.assign(f,d.headers);try{let b=e?c.fetchWithRetry:fetch,g=await b(`http://localhost:3000${a}`,{...d,headers:f}),h=await g.json();if(!g.ok)return console.error(`API Error [${g.status}] at ${a}:`,h),{success:!1,error:h.error||"API request failed",data:null};return h}catch(b){return console.error(`Request failed for ${a}:`,b),{success:!1,error:b instanceof Error?b.message:"Request failed",data:null}}}async getOverview(){return this.request("/api/overview")}async getAgents(a){let b=new URLSearchParams;a?.page&&b.set("page",a.page.toString()),a?.limit&&b.set("limit",a.limit.toString()),a?.teamId&&b.set("teamId",a.teamId),a?.status&&b.set("status",a.status),a?.search&&b.set("search",a.search);let c=b.toString();return this.request(`/api/agents${c?`?${c}`:""}`)}async getAgent(a){return this.request(`/api/agents/${a}`)}async createAgent(a){return this.request("/api/agents",{method:"POST",body:JSON.stringify(a)})}async updateAgent(a,b){return this.request(`/api/agents/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteAgent(a){return this.request(`/api/agents/${a}`,{method:"DELETE"})}async getTeams(a){let b=new URLSearchParams;a?.page&&b.set("page",a.page.toString()),a?.limit&&b.set("limit",a.limit.toString()),a?.ownerId&&b.set("ownerId",a.ownerId),a?.status&&b.set("status",a.status),a?.search&&b.set("search",a.search);let c=b.toString();return this.request(`/api/teams${c?`?${c}`:""}`)}async getTeam(a){return this.request(`/api/teams/${a}`)}async createTeam(a){return this.request("/api/teams",{method:"POST",body:JSON.stringify(a)})}async updateTeam(a,b){return this.request(`/api/teams/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteTeam(a){return this.request(`/api/teams/${a}`,{method:"DELETE"})}async getTeamMembers(a){return this.request(`/api/teams/${a}/members`)}async addTeamMember(a,b){return this.request(`/api/teams/${a}/members`,{method:"POST",body:JSON.stringify(b)})}async removeTeamMember(a,b){return this.request(`/api/teams/${a}/members/${b}`,{method:"DELETE"})}async getTeamInvites(a){return this.request(`/api/teams/${a}/invites`)}async createTeamInvite(a,b){return this.request(`/api/teams/${a}/invites`,{method:"POST",body:JSON.stringify(b)})}async getContracts(a){let b=new URLSearchParams;a?.page&&b.set("page",a.page.toString()),a?.limit&&b.set("limit",a.limit.toString()),a?.teamId&&b.set("teamId",a.teamId);let c=b.toString();return this.request(`/api/billing/contracts${c?`?${c}`:""}`)}async getContract(a){return this.request(`/api/billing/contracts/${a}`)}async createContract(a){return this.request("/api/billing/contracts",{method:"POST",body:JSON.stringify(a)})}async updateContract(a,b){return this.request(`/api/billing/contracts/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async cancelContract(a){return this.request(`/api/billing/contracts/${a}`,{method:"DELETE"})}async getInvoices(a){let b=a?`?teamId=${a}`:"";return this.request(`/api/billing/invoices${b}`)}async createInvoice(a){return this.request("/api/billing/invoices",{method:"POST",body:JSON.stringify(a)})}async getWallet(a){return this.request(`/api/wallets?teamId=${a}`)}async createWallet(a){return this.request("/api/wallets",{method:"POST",body:JSON.stringify(a)})}async grantCredits(a){return this.request("/api/credits/grant",{method:"POST",body:JSON.stringify(a)})}async getTransactions(a){let b=new URLSearchParams;a?.page&&b.set("page",a.page.toString()),a?.limit&&b.set("limit",a.limit.toString()),a?.teamId&&b.set("teamId",a.teamId),a?.walletId&&b.set("walletId",a.walletId);let c=b.toString();return this.request(`/api/credits/transactions${c?`?${c}`:""}`)}async getWhiteLabelConfigs(a){let b=a?`?teamId=${a}`:"";return this.request(`/api/white-label${b}`)}async getWhiteLabelConfig(a){return this.request(`/api/white-label/${a}`)}async createWhiteLabelConfig(a){return this.request("/api/white-label",{method:"POST",body:JSON.stringify(a)})}async updateWhiteLabelConfig(a,b){return this.request(`/api/white-label/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteWhiteLabelConfig(a){return this.request(`/api/white-label/${a}`,{method:"DELETE"})}async getReferrals(a){let b=new URLSearchParams;return a?.referrerId&&b.set("referrerId",a.referrerId),a?.status&&b.set("status",a.status),this.request(`/api/referrals?${b}`)}async createReferral(a){return this.request("/api/referrals",{method:"POST",body:JSON.stringify(a)})}async getUsers(a){let b=new URLSearchParams;a?.page&&b.set("page",a.page.toString()),a?.limit&&b.set("limit",a.limit.toString()),a?.role&&b.set("role",a.role),a?.status&&b.set("status",a.status),a?.search&&b.set("search",a.search);let c=b.toString();return this.request(`/api/users${c?`?${c}`:""}`)}async getUser(a){return this.request(`/api/users/${a}`)}async createUser(a){return this.request("/api/users",{method:"POST",body:JSON.stringify(a)})}async updateUser(a,b){return this.request(`/api/users/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteUser(a){return this.request(`/api/users/${a}`,{method:"DELETE"})}async suspendUser(a,b){return this.request(`/api/users/${a}/suspend`,{method:"POST",body:JSON.stringify({reason:b})})}async activateUser(a){return this.request(`/api/users/${a}/activate`,{method:"POST"})}async getAgentAnalytics(a){return this.request(`/api/agents/${a}/analytics`)}async getTeamAnalytics(a){return this.request(`/api/teams/${a}/analytics`)}async getSubscriptions(a){let b=a?`?teamId=${a}`:"";return this.request(`/api/subscriptions${b}`)}async createSubscription(a){return this.request("/api/subscriptions",{method:"POST",body:JSON.stringify(a)})}async cancelSubscription(a,b=!0,c){return this.request(`/api/subscriptions/${a}/cancel`,{method:"POST",body:JSON.stringify({cancelAtPeriodEnd:b,reason:c})})}async getSubscriptionPlans(){return this.request("/api/subscriptions/plans")}async createSubscriptionPlan(a){return this.request("/api/subscriptions/plans",{method:"POST",body:JSON.stringify(a)})}async deleteSubscriptionPlan(a){return this.request(`/api/subscriptions/plans/${a}`,{method:"DELETE"})}async getPaymentMethods(a){let b=a?`?teamId=${a}`:"";return this.request(`/api/payment-methods${b}`)}async addPaymentMethod(a){return this.request("/api/payment-methods",{method:"POST",body:JSON.stringify(a)})}async deletePaymentMethod(a){return this.request(`/api/payment-methods/${a}`,{method:"DELETE"})}async setDefaultPaymentMethod(a){return this.request(`/api/payment-methods/${a}/default`,{method:"POST"})}async getAuditLogs(a){let b=new URLSearchParams;a?.page&&b.set("page",a.page.toString()),a?.limit&&b.set("limit",a.limit.toString()),a?.userId&&b.set("userId",a.userId),a?.resource&&b.set("resource",a.resource),a?.startDate&&b.set("startDate",a.startDate),a?.endDate&&b.set("endDate",a.endDate);let c=b.toString();return this.request(`/api/audit-logs${c?`?${c}`:""}`)}async getFeatureFlags(){return this.request("/api/admin/feature-flags")}async createFeatureFlag(a){return this.request("/api/admin/feature-flags",{method:"POST",body:JSON.stringify(a)})}async updateFeatureFlag(a,b){return this.request(`/api/admin/feature-flags/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async getAdminSettings(a){let b=a?`?category=${a}`:"";return this.request(`/api/admin/settings${b}`)}async updateAdminSettings(a){return this.request("/api/admin/settings",{method:"PUT",body:JSON.stringify(a)})}async getUsageReport(a,b){let c=new URLSearchParams;a&&c.set("startDate",a),b&&c.set("endDate",b);let d=c.toString();return this.request(`/api/reports/usage${d?`?${d}`:""}`)}async generateUsageReport(a){return this.request("/api/reports/usage",{method:"POST",body:JSON.stringify(a)})}};a.s(["apiClient",0,d],62477)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},71872,a=>{"use strict";var b=a.i(87924),c=a.i(11156),d=a.i(15618),e=a.i(96221),f=a.i(81560);let g=(0,a.i(70106).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var h=a.i(72131),i=a.i(62477),j=a.i(95558);function k(){let[a,k]=(0,h.useState)([]),[l,m]=(0,h.useState)([]),[n,o]=(0,h.useState)(""),[p,q]=(0,h.useState)(!0),[r,s]=(0,h.useState)(!1),[t,u]=(0,h.useState)(!1),[v,w]=(0,h.useState)(""),[x,y]=(0,h.useState)(""),[z,A]=(0,h.useState)({type:"card",cardNumber:"",cardHolderName:"",expiryMonth:"",expiryYear:"",cvv:"",isDefault:!1});(0,h.useEffect)(()=>{B()},[]),(0,h.useEffect)(()=>{n&&C()},[n]);let B=async()=>{q(!0);try{let a=await i.apiClient.getTeams(),b=a.data?.data||a.data||[],c=Array.isArray(b)?b:[];if(m(c),c.length>0){let a=c[0].teamId||c[0].id;o(a)}}catch(a){console.error("Error fetching teams:",a)}finally{q(!1)}},C=async()=>{if(n){q(!0);try{let a=await i.apiClient.getPaymentMethods(n);if(a.success){let b=a.data?.data||a.data||[];k(Array.isArray(b)?b:[])}}catch(a){console.error("Error fetching payment methods:",a)}finally{q(!1)}}},D=async a=>{if(a.preventDefault(),w(""),y(""),!n)return void w("No team selected");u(!0);try{(await i.apiClient.addPaymentMethod({teamId:n,type:z.type,cardNumber:z.cardNumber.replace(/\s/g,""),cardHolderName:z.cardHolderName,expiryMonth:z.expiryMonth,expiryYear:z.expiryYear,cvv:z.cvv,isDefault:z.isDefault})).success&&(y("Payment method added successfully!"),A({type:"card",cardNumber:"",cardHolderName:"",expiryMonth:"",expiryYear:"",cvv:"",isDefault:!1}),s(!1),await C())}catch(a){w(a.message||"Failed to add payment method")}finally{u(!1)}},E=async a=>{if(confirm("Are you sure you want to delete this payment method?"))try{await i.apiClient.deletePaymentMethod(a),y("Payment method deleted successfully!"),await C()}catch(a){w(a.message||"Failed to delete payment method")}},F=async a=>{try{await i.apiClient.setDefaultPaymentMethod(a),y("Default payment method updated!"),await C()}catch(a){w(a.message||"Failed to set default payment method")}};return(0,b.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto space-y-6 animate-fade-in-up",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)(c.CreditCard,{className:"w-8 h-8 text-primary"}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Payment Methods"})]}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Manage your payment methods and billing information"})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[l.length>0&&(0,b.jsxs)("select",{value:n,onChange:a=>o(a.target.value),className:"px-3 py-2 bg-input border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary text-sm",children:[(0,b.jsx)("option",{value:"",children:"Select a team..."}),l.map(a=>(0,b.jsx)("option",{value:a.teamId||a.id,children:a.name},a.teamId||a.id))]}),(0,b.jsxs)("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:[(0,b.jsx)(d.Plus,{className:"w-4 h-4"}),"Add Payment Method"]})]})]}),p?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)(e.Loader2,{className:"w-8 h-8 animate-spin text-primary"})}):0===a.length?(0,b.jsxs)("div",{className:"bg-card border border-border rounded-lg p-8 text-center",children:[(0,b.jsx)(c.CreditCard,{className:"w-16 h-16 mx-auto text-muted-foreground/50 mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:"No payment methods found"}),(0,b.jsxs)("button",{onClick:()=>s(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:[(0,b.jsx)(d.Plus,{className:"w-4 h-4"}),"Add Your First Payment Method"]})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(a=>{let c,d;return(0,b.jsxs)("div",{className:"bg-gradient-to-br from-card to-muted/30 border border-border rounded-xl p-6 hover:shadow-lg transition-all relative",children:[a.isDefault&&(0,b.jsx)("div",{className:"absolute top-4 right-4",children:(0,b.jsxs)("span",{className:"flex items-center gap-1 px-2 py-1 bg-primary text-primary-foreground rounded-full text-xs font-semibold",children:[(0,b.jsx)(g,{className:"w-3 h-3"}),"Default"]})}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:(c=(a.cardNumber||a.last4||"").replace(/\s/g,"")).startsWith("4")?"Visa":c.startsWith("5")?"Mastercard":c.startsWith("3")?"Amex":"Card"}),(0,b.jsx)("div",{className:"text-xl font-mono text-foreground tracking-wider",children:a.cardNumber?(d=a.cardNumber.slice(-4),`•••• •••• •••• ${d}`):a.last4?`•••• •••• •••• ${a.last4}`:"•••• •••• •••• ••••"})]}),(0,b.jsxs)("div",{className:"flex justify-between items-end mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Card Holder"}),(0,b.jsx)("div",{className:"text-sm font-medium text-foreground",children:a.cardHolderName||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Expires"}),(0,b.jsx)("div",{className:"text-sm font-medium text-foreground",children:a.expiryMonth&&a.expiryYear?`${a.expiryMonth}/${a.expiryYear}`:"N/A"})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 pt-4 border-t border-border",children:[!a.isDefault&&(0,b.jsx)("button",{onClick:()=>F(a.paymentMethodId||a.id),className:"flex-1 px-3 py-2 bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition-colors text-sm",children:"Set Default"}),(0,b.jsxs)("button",{onClick:()=>E(a.paymentMethodId||a.id),className:"flex-1 px-3 py-2 bg-red-500/10 text-red-400 rounded-lg hover:bg-red-500/20 transition-colors text-sm",children:[(0,b.jsx)(f.Trash2,{className:"w-4 h-4 inline mr-1"}),"Delete"]})]})]},a.paymentMethodId||a.id)})}),(x||v)&&(0,b.jsx)("div",{className:`fixed bottom-4 right-4 p-4 rounded-lg shadow-lg animate-fade-in-up ${x?"bg-green-500/20 border border-green-500/20 text-green-400":"bg-red-500/20 border border-red-500/20 text-red-400"}`,children:x||v}),(0,b.jsx)(j.Dialog,{isOpen:r,onClose:()=>{s(!1),w("")},title:"Add Payment Method",description:"Add a new card for payments",children:(0,b.jsxs)("form",{onSubmit:D,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Card Number *"}),(0,b.jsx)("input",{type:"text",value:z.cardNumber,onChange:a=>{let b,c,d=(c=(b=a.target.value.replace(/\s/g,"")).match(/.{1,4}/g))?c.join(" "):b;d.replace(/\s/g,"").length<=16&&A({...z,cardNumber:d})},placeholder:"1234 5678 9012 3456",required:!0,maxLength:19,className:"w-full px-3 py-2 bg-input border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary font-mono"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Card Holder Name *"}),(0,b.jsx)("input",{type:"text",value:z.cardHolderName,onChange:a=>A({...z,cardHolderName:a.target.value}),placeholder:"John Doe",required:!0,className:"w-full px-3 py-2 bg-input border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Month *"}),(0,b.jsx)("input",{type:"text",value:z.expiryMonth,onChange:a=>{let b=a.target.value.replace(/\D/g,"");b.length<=2&&(""===b||parseInt(b)>=1&&12>=parseInt(b))&&A({...z,expiryMonth:b})},placeholder:"MM",required:!0,maxLength:2,className:"w-full px-3 py-2 bg-input border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Year *"}),(0,b.jsx)("input",{type:"text",value:z.expiryYear,onChange:a=>{let b=a.target.value.replace(/\D/g,"");b.length<=4&&A({...z,expiryYear:b})},placeholder:"YYYY",required:!0,maxLength:4,className:"w-full px-3 py-2 bg-input border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"CVV *"}),(0,b.jsx)("input",{type:"text",value:z.cvv,onChange:a=>{let b=a.target.value.replace(/\D/g,"");b.length<=4&&A({...z,cvv:b})},placeholder:"123",required:!0,maxLength:4,className:"w-full px-3 py-2 bg-input border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"isDefault",checked:z.isDefault,onChange:a=>A({...z,isDefault:a.target.checked}),className:"w-4 h-4"}),(0,b.jsx)("label",{htmlFor:"isDefault",className:"text-sm text-foreground",children:"Set as default payment method"})]}),v&&(0,b.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3 text-red-400 text-sm",children:v}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:()=>{s(!1),w("")},className:"flex-1 px-4 py-2 bg-muted text-foreground rounded-lg hover:bg-muted/80 transition-colors",disabled:t,children:"Cancel"}),(0,b.jsxs)("button",{type:"submit",disabled:t,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[t&&(0,b.jsx)(e.Loader2,{className:"w-4 h-4 animate-spin"}),t?"Adding...":"Add Card"]})]})]})})]})}a.s(["default",()=>k],71872)}];

//# sourceMappingURL=_5901eaea._.js.map