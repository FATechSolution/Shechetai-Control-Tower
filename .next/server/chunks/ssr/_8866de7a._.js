module.exports=[15618,a=>{"use strict";let b=(0,a.i(70106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},62477,a=>{"use strict";var b=a.i(62394),c=a.i(23812);let d=new class{apiKey=null;setApiKey(a){this.apiKey=a}async request(a,d={},e=!0){let f={"Content-Type":"application/json"};try{let a=await (0,b.getCurrentUserToken)();a?f.Authorization=`Bearer ${a}`:this.apiKey&&(f["x-api-key"]=this.apiKey)}catch(a){console.warn("Error getting Firebase token (continuing without auth):",a)}d.headers&&Object.assign(f,d.headers);try{let b=e?c.fetchWithRetry:fetch,g=await b(`http://localhost:3000${a}`,{...d,headers:f}),h=await g.json();if(!g.ok)return console.error(`API Error [${g.status}] at ${a}:`,h),{success:!1,error:h.error||"API request failed",data:null};return h}catch(b){return console.error(`Request failed for ${a}:`,b),{success:!1,error:b instanceof Error?b.message:"Request failed",data:null}}}async getOverview(){return this.request("/api/overview")}async getAgents(a){let b=new URLSearchParams;a?.page&&b.set("page",a.page.toString()),a?.limit&&b.set("limit",a.limit.toString()),a?.teamId&&b.set("teamId",a.teamId),a?.status&&b.set("status",a.status),a?.search&&b.set("search",a.search);let c=b.toString();return this.request(`/api/agents${c?`?${c}`:""}`)}async getAgent(a){return this.request(`/api/agents/${a}`)}async createAgent(a){return this.request("/api/agents",{method:"POST",body:JSON.stringify(a)})}async updateAgent(a,b){return this.request(`/api/agents/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteAgent(a){return this.request(`/api/agents/${a}`,{method:"DELETE"})}async getTeams(a){let b=new URLSearchParams;a?.page&&b.set("page",a.page.toString()),a?.limit&&b.set("limit",a.limit.toString()),a?.ownerId&&b.set("ownerId",a.ownerId),a?.status&&b.set("status",a.status),a?.search&&b.set("search",a.search);let c=b.toString();return this.request(`/api/teams${c?`?${c}`:""}`)}async getTeam(a){return this.request(`/api/teams/${a}`)}async createTeam(a){return this.request("/api/teams",{method:"POST",body:JSON.stringify(a)})}async updateTeam(a,b){return this.request(`/api/teams/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteTeam(a){return this.request(`/api/teams/${a}`,{method:"DELETE"})}async getTeamMembers(a){return this.request(`/api/teams/${a}/members`)}async addTeamMember(a,b){return this.request(`/api/teams/${a}/members`,{method:"POST",body:JSON.stringify(b)})}async removeTeamMember(a,b){return this.request(`/api/teams/${a}/members/${b}`,{method:"DELETE"})}async getTeamInvites(a){return this.request(`/api/teams/${a}/invites`)}async createTeamInvite(a,b){return this.request(`/api/teams/${a}/invites`,{method:"POST",body:JSON.stringify(b)})}async getContracts(a){let b=new URLSearchParams;a?.page&&b.set("page",a.page.toString()),a?.limit&&b.set("limit",a.limit.toString()),a?.teamId&&b.set("teamId",a.teamId);let c=b.toString();return this.request(`/api/billing/contracts${c?`?${c}`:""}`)}async getContract(a){return this.request(`/api/billing/contracts/${a}`)}async createContract(a){return this.request("/api/billing/contracts",{method:"POST",body:JSON.stringify(a)})}async updateContract(a,b){return this.request(`/api/billing/contracts/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async cancelContract(a){return this.request(`/api/billing/contracts/${a}`,{method:"DELETE"})}async getInvoices(a){let b=a?`?teamId=${a}`:"";return this.request(`/api/billing/invoices${b}`)}async createInvoice(a){return this.request("/api/billing/invoices",{method:"POST",body:JSON.stringify(a)})}async getWallet(a){return this.request(`/api/wallets?teamId=${a}`)}async createWallet(a){return this.request("/api/wallets",{method:"POST",body:JSON.stringify(a)})}async grantCredits(a){return this.request("/api/credits/grant",{method:"POST",body:JSON.stringify(a)})}async getTransactions(a){let b=new URLSearchParams;a?.page&&b.set("page",a.page.toString()),a?.limit&&b.set("limit",a.limit.toString()),a?.teamId&&b.set("teamId",a.teamId),a?.walletId&&b.set("walletId",a.walletId);let c=b.toString();return this.request(`/api/credits/transactions${c?`?${c}`:""}`)}async getWhiteLabelConfigs(a){let b=a?`?teamId=${a}`:"";return this.request(`/api/white-label${b}`)}async getWhiteLabelConfig(a){return this.request(`/api/white-label/${a}`)}async createWhiteLabelConfig(a){return this.request("/api/white-label",{method:"POST",body:JSON.stringify(a)})}async updateWhiteLabelConfig(a,b){return this.request(`/api/white-label/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteWhiteLabelConfig(a){return this.request(`/api/white-label/${a}`,{method:"DELETE"})}async getReferrals(a){let b=new URLSearchParams;return a?.referrerId&&b.set("referrerId",a.referrerId),a?.status&&b.set("status",a.status),this.request(`/api/referrals?${b}`)}async createReferral(a){return this.request("/api/referrals",{method:"POST",body:JSON.stringify(a)})}async getUsers(a){let b=new URLSearchParams;a?.page&&b.set("page",a.page.toString()),a?.limit&&b.set("limit",a.limit.toString()),a?.role&&b.set("role",a.role),a?.status&&b.set("status",a.status),a?.search&&b.set("search",a.search);let c=b.toString();return this.request(`/api/users${c?`?${c}`:""}`)}async getUser(a){return this.request(`/api/users/${a}`)}async createUser(a){return this.request("/api/users",{method:"POST",body:JSON.stringify(a)})}async updateUser(a,b){return this.request(`/api/users/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteUser(a){return this.request(`/api/users/${a}`,{method:"DELETE"})}async suspendUser(a,b){return this.request(`/api/users/${a}/suspend`,{method:"POST",body:JSON.stringify({reason:b})})}async activateUser(a){return this.request(`/api/users/${a}/activate`,{method:"POST"})}async getAgentAnalytics(a){return this.request(`/api/agents/${a}/analytics`)}async getTeamAnalytics(a){return this.request(`/api/teams/${a}/analytics`)}async getSubscriptions(a){let b=a?`?teamId=${a}`:"";return this.request(`/api/subscriptions${b}`)}async createSubscription(a){return this.request("/api/subscriptions",{method:"POST",body:JSON.stringify(a)})}async cancelSubscription(a,b=!0,c){return this.request(`/api/subscriptions/${a}/cancel`,{method:"POST",body:JSON.stringify({cancelAtPeriodEnd:b,reason:c})})}async getSubscriptionPlans(){return this.request("/api/subscriptions/plans")}async createSubscriptionPlan(a){return this.request("/api/subscriptions/plans",{method:"POST",body:JSON.stringify(a)})}async deleteSubscriptionPlan(a){return this.request(`/api/subscriptions/plans/${a}`,{method:"DELETE"})}async getPaymentMethods(a){let b=a?`?teamId=${a}`:"";return this.request(`/api/payment-methods${b}`)}async addPaymentMethod(a){return this.request("/api/payment-methods",{method:"POST",body:JSON.stringify(a)})}async deletePaymentMethod(a){return this.request(`/api/payment-methods/${a}`,{method:"DELETE"})}async setDefaultPaymentMethod(a){return this.request(`/api/payment-methods/${a}/default`,{method:"POST"})}async getAuditLogs(a){let b=new URLSearchParams;a?.page&&b.set("page",a.page.toString()),a?.limit&&b.set("limit",a.limit.toString()),a?.userId&&b.set("userId",a.userId),a?.resource&&b.set("resource",a.resource),a?.startDate&&b.set("startDate",a.startDate),a?.endDate&&b.set("endDate",a.endDate);let c=b.toString();return this.request(`/api/audit-logs${c?`?${c}`:""}`)}async getFeatureFlags(){return this.request("/api/admin/feature-flags")}async createFeatureFlag(a){return this.request("/api/admin/feature-flags",{method:"POST",body:JSON.stringify(a)})}async updateFeatureFlag(a,b){return this.request(`/api/admin/feature-flags/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async getAdminSettings(a){let b=a?`?category=${a}`:"";return this.request(`/api/admin/settings${b}`)}async updateAdminSettings(a){return this.request("/api/admin/settings",{method:"PUT",body:JSON.stringify(a)})}async getUsageReport(a,b){let c=new URLSearchParams;a&&c.set("startDate",a),b&&c.set("endDate",b);let d=c.toString();return this.request(`/api/reports/usage${d?`?${d}`:""}`)}async generateUsageReport(a){return this.request("/api/reports/usage",{method:"POST",body:JSON.stringify(a)})}};a.s(["apiClient",0,d],62477)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},92e3,a=>{"use strict";let b=(0,a.i(70106).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],92e3)},96410,a=>{"use strict";var b=a.i(87924),c=a.i(44494),d=a.i(15618),e=a.i(81560),f=a.i(92e3),g=a.i(96221),h=a.i(72131),i=a.i(62477),j=a.i(95558);function k(){let[a,k]=(0,h.useState)(""),[l,m]=(0,h.useState)(null),[n,o]=(0,h.useState)([]),[p,q]=(0,h.useState)([]),[r,s]=(0,h.useState)(!0),[t,u]=(0,h.useState)(!1),[v,w]=(0,h.useState)(!1),[x,y]=(0,h.useState)(""),[z,A]=(0,h.useState)(""),[B,C]=(0,h.useState)({teamId:"",domain:"",brandName:"",logoUrl:"",primaryColor:"#0EA5E9",secondaryColor:"#06B6D4"});(0,h.useEffect)(()=>{D(),E()},[]);let D=async()=>{try{let a=await i.apiClient.getWhiteLabelConfigs();if(a.success){let b=Array.isArray(a.data)?a.data:[];o(b)}}catch(a){console.error("Error fetching white-labels:",a)}finally{s(!1)}},E=async()=>{try{let a=await i.apiClient.getTeams();if(a.success){let b=a.data?.data||a.data||[];q(Array.isArray(b)?b:[])}}catch(a){console.error("Error fetching teams:",a)}},F=async a=>{a.preventDefault(),y(""),A(""),w(!0);try{(await i.apiClient.createWhiteLabelConfig({teamId:B.teamId,domain:B.domain,brandName:B.brandName,logoUrl:B.logoUrl||void 0,primaryColor:B.primaryColor,secondaryColor:B.secondaryColor,status:"pending"})).success&&(A("White-label domain requested successfully!"),C({teamId:"",domain:"",brandName:"",logoUrl:"",primaryColor:"#0EA5E9",secondaryColor:"#06B6D4"}),u(!1),await D())}catch(a){y(a.message||"Failed to create white-label configuration")}finally{w(!1)}},G=async(a,b)=>{if(confirm(`Are you sure you want to delete the domain "${b}"?`))try{(await i.apiClient.deleteWhiteLabelConfig(a)).success&&(A("Domain deleted successfully!"),await D())}catch(a){y(a.message||"Failed to delete domain")}};return(0,b.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto space-y-4 sm:space-y-8 animate-fade-in-up",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground mb-1 sm:mb-2",children:"White-Label Domains & Retail"}),(0,b.jsx)("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Manage custom domains and retail configurations for agents"})]}),(0,b.jsxs)("div",{className:"bg-card border border-border rounded-lg p-4 sm:p-6 animate-fade-in-up",style:{animationDelay:"0s"},children:[(0,b.jsx)("h2",{className:"text-base sm:text-lg font-semibold text-card-foreground mb-4",children:"Request New Domain"}),(0,b.jsxs)("button",{onClick:()=>u(!0),className:"flex items-center justify-center gap-2 w-full sm:w-auto px-4 py-2 sm:py-2.5 bg-primary text-primary-foreground rounded-lg text-xs sm:text-sm font-medium hover:bg-primary/90 hover:shadow-lg transition-all duration-200",children:[(0,b.jsx)(d.Plus,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Request Domain"]})]}),n.length>0&&(0,b.jsxs)("div",{className:"bg-card border border-border rounded-lg p-4 sm:p-6 animate-fade-in-up",style:{animationDelay:"0.1s"},children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4 sm:mb-6",children:[(0,b.jsx)(f.AlertCircle,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-500 flex-shrink-0"}),(0,b.jsx)("h2",{className:"text-base sm:text-lg font-semibold text-card-foreground",children:"DNS Configuration Instructions"})]}),(0,b.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground mb-4",children:"Configure these DNS records for each domain you request:"}),(0,b.jsxs)("div",{className:"space-y-3 sm:space-y-5 text-xs sm:text-sm",children:[(0,b.jsxs)("div",{className:"p-3 sm:p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[(0,b.jsx)("p",{className:"text-muted-foreground font-semibold mb-2",children:"CNAME Record"}),(0,b.jsx)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-2",children:(0,b.jsx)("code",{className:"flex-1 w-full px-2 sm:px-3 py-1.5 sm:py-2 bg-input border border-border rounded text-foreground font-mono text-xs break-all",children:"your-domain.com CNAME edge.shechetai.com"})})]}),(0,b.jsxs)("div",{className:"p-3 sm:p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[(0,b.jsx)("p",{className:"text-muted-foreground font-semibold mb-2",children:"TXT Record (Verification)"}),(0,b.jsx)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-2",children:(0,b.jsx)("code",{className:"flex-1 w-full px-2 sm:px-3 py-1.5 sm:py-2 bg-input border border-border rounded text-foreground font-mono text-xs break-all",children:"_wl.your-domain.com TXT verification_token_here"})})]})]})]}),(0,b.jsxs)("div",{className:"bg-card border border-border rounded-lg p-4 sm:p-6 animate-fade-in-up",style:{animationDelay:"0.2s"},children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4 sm:mb-6",children:[(0,b.jsx)(c.Globe,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),(0,b.jsx)("h2",{className:"text-base sm:text-lg font-semibold text-card-foreground",children:n.length>0?"Configured Domains":"No Domains Yet"})]}),r?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)(g.Loader2,{className:"w-8 h-8 animate-spin text-primary"})}):0===n.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(c.Globe,{className:"w-16 h-16 mx-auto text-muted-foreground/50 mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:"No white-label domains configured yet"}),(0,b.jsxs)("button",{onClick:()=>u(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:[(0,b.jsx)(d.Plus,{className:"w-4 h-4"}),"Request Your First Domain"]})]}):(0,b.jsx)("div",{className:"space-y-2 sm:space-y-3",children:n.map((a,d)=>{var f;let g;return(0,b.jsxs)("div",{style:{animation:`fadeInUp 0.4s ease-out ${.2+.1*d}s both`},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-3 p-3 sm:p-4 bg-muted/30 rounded-lg hover:bg-muted/50 transition-all duration-200 group",children:[(0,b.jsxs)("div",{className:"flex items-start sm:items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[(0,b.jsx)(c.Globe,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-primary flex-shrink-0 mt-0.5 sm:mt-0"}),(0,b.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,b.jsx)("p",{className:"text-xs sm:text-sm font-semibold text-foreground break-all",children:a.domain}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[a.brandName," • ",(f=a.teamId,g=p.find(a=>a.teamId===f||a.id===f),g?.name||f)," •"," ",a.createdAt?new Date(a.createdAt).toLocaleDateString():"N/A"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between sm:gap-3 w-full sm:w-auto",children:[(0,b.jsx)("span",{className:`text-xs px-2.5 py-1 rounded-full font-semibold whitespace-nowrap ${"active"===a.status?"bg-green-500/20 text-green-400":"pending"===a.status?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:a.status}),(0,b.jsx)("button",{onClick:()=>G(a.configId||a.id,a.domain),className:"opacity-0 group-hover:opacity-100 text-destructive hover:text-destructive/80 transition-all p-1 flex-shrink-0",children:(0,b.jsx)(e.Trash2,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})]})]},a.configId||a.id)})})]}),(z||x)&&(0,b.jsx)("div",{className:`fixed bottom-4 right-4 p-4 rounded-lg shadow-lg animate-fade-in-up ${z?"bg-green-500/20 border border-green-500/20 text-green-400":"bg-red-500/20 border border-red-500/20 text-red-400"}`,children:z||x}),(0,b.jsx)(j.Dialog,{isOpen:t,onClose:()=>{u(!1),y("")},title:"Request New White-Label Domain",description:"Configure a custom domain for a team",children:(0,b.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Team *"}),(0,b.jsxs)("select",{value:B.teamId,onChange:a=>C({...B,teamId:a.target.value}),required:!0,className:"w-full px-3 py-2 bg-input border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,b.jsx)("option",{value:"",children:"Select a team"}),p.map(a=>(0,b.jsx)("option",{value:a.teamId||a.id,children:a.name},a.teamId||a.id))]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Team that will own this domain"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Domain *"}),(0,b.jsx)("input",{type:"text",value:B.domain,onChange:a=>C({...B,domain:a.target.value}),placeholder:"app.yourcompany.com",required:!0,className:"w-full px-3 py-2 bg-input border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Custom domain hostname"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Brand Name *"}),(0,b.jsx)("input",{type:"text",value:B.brandName,onChange:a=>C({...B,brandName:a.target.value}),placeholder:"Your Company",required:!0,className:"w-full px-3 py-2 bg-input border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Brand name to display"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Logo URL"}),(0,b.jsx)("input",{type:"url",value:B.logoUrl,onChange:a=>C({...B,logoUrl:a.target.value}),placeholder:"https://example.com/logo.png",className:"w-full px-3 py-2 bg-input border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Optional logo image URL"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Primary Color"}),(0,b.jsx)("input",{type:"color",value:B.primaryColor,onChange:a=>C({...B,primaryColor:a.target.value}),className:"w-full h-10 px-1 py-1 bg-input border border-border rounded-lg cursor-pointer"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Secondary Color"}),(0,b.jsx)("input",{type:"color",value:B.secondaryColor,onChange:a=>C({...B,secondaryColor:a.target.value}),className:"w-full h-10 px-1 py-1 bg-input border border-border rounded-lg cursor-pointer"})]})]}),x&&(0,b.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3 text-red-400 text-sm",children:x}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:()=>{u(!1),y("")},className:"flex-1 px-4 py-2 bg-muted text-foreground rounded-lg hover:bg-muted/80 transition-colors",disabled:v,children:"Cancel"}),(0,b.jsxs)("button",{type:"submit",disabled:v,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[v&&(0,b.jsx)(g.Loader2,{className:"w-4 h-4 animate-spin"}),v?"Creating...":"Request Domain"]})]})]})})]})}a.s(["default",()=>k])}];

//# sourceMappingURL=_8866de7a._.js.map