module.exports=[62477,a=>{"use strict";var b=a.i(62394),c=a.i(23812);let d=new class{apiKey=null;setApiKey(a){this.apiKey=a}async request(a,d={},e=!0){let f={"Content-Type":"application/json"};try{let a=await (0,b.getCurrentUserToken)();a?f.Authorization=`Bearer ${a}`:this.apiKey&&(f["x-api-key"]=this.apiKey)}catch(a){console.warn("Error getting Firebase token (continuing without auth):",a)}d.headers&&Object.assign(f,d.headers);try{let b=e?c.fetchWithRetry:fetch,g=await b(`http://localhost:3000${a}`,{...d,headers:f}),h=await g.json();if(!g.ok)return console.error(`API Error [${g.status}] at ${a}:`,h),{success:!1,error:h.error||"API request failed",data:null};return h}catch(b){return console.error(`Request failed for ${a}:`,b),{success:!1,error:b instanceof Error?b.message:"Request failed",data:null}}}async getOverview(){return this.request("/api/overview")}async getAgents(a){let b=new URLSearchParams;a?.page&&b.set("page",a.page.toString()),a?.limit&&b.set("limit",a.limit.toString()),a?.teamId&&b.set("teamId",a.teamId),a?.status&&b.set("status",a.status),a?.search&&b.set("search",a.search);let c=b.toString();return this.request(`/api/agents${c?`?${c}`:""}`)}async getAgent(a){return this.request(`/api/agents/${a}`)}async createAgent(a){return this.request("/api/agents",{method:"POST",body:JSON.stringify(a)})}async updateAgent(a,b){return this.request(`/api/agents/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteAgent(a){return this.request(`/api/agents/${a}`,{method:"DELETE"})}async getTeams(a){let b=new URLSearchParams;a?.page&&b.set("page",a.page.toString()),a?.limit&&b.set("limit",a.limit.toString()),a?.ownerId&&b.set("ownerId",a.ownerId),a?.status&&b.set("status",a.status),a?.search&&b.set("search",a.search);let c=b.toString();return this.request(`/api/teams${c?`?${c}`:""}`)}async getTeam(a){return this.request(`/api/teams/${a}`)}async createTeam(a){return this.request("/api/teams",{method:"POST",body:JSON.stringify(a)})}async updateTeam(a,b){return this.request(`/api/teams/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteTeam(a){return this.request(`/api/teams/${a}`,{method:"DELETE"})}async getTeamMembers(a){return this.request(`/api/teams/${a}/members`)}async addTeamMember(a,b){return this.request(`/api/teams/${a}/members`,{method:"POST",body:JSON.stringify(b)})}async removeTeamMember(a,b){return this.request(`/api/teams/${a}/members/${b}`,{method:"DELETE"})}async getTeamInvites(a){return this.request(`/api/teams/${a}/invites`)}async createTeamInvite(a,b){return this.request(`/api/teams/${a}/invites`,{method:"POST",body:JSON.stringify(b)})}async getContracts(a){let b=new URLSearchParams;a?.page&&b.set("page",a.page.toString()),a?.limit&&b.set("limit",a.limit.toString()),a?.teamId&&b.set("teamId",a.teamId);let c=b.toString();return this.request(`/api/billing/contracts${c?`?${c}`:""}`)}async getContract(a){return this.request(`/api/billing/contracts/${a}`)}async createContract(a){return this.request("/api/billing/contracts",{method:"POST",body:JSON.stringify(a)})}async updateContract(a,b){return this.request(`/api/billing/contracts/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async cancelContract(a){return this.request(`/api/billing/contracts/${a}`,{method:"DELETE"})}async getInvoices(a){let b=a?`?teamId=${a}`:"";return this.request(`/api/billing/invoices${b}`)}async createInvoice(a){return this.request("/api/billing/invoices",{method:"POST",body:JSON.stringify(a)})}async getWallet(a){return this.request(`/api/wallets?teamId=${a}`)}async createWallet(a){return this.request("/api/wallets",{method:"POST",body:JSON.stringify(a)})}async grantCredits(a){return this.request("/api/credits/grant",{method:"POST",body:JSON.stringify(a)})}async getTransactions(a){let b=new URLSearchParams;a?.page&&b.set("page",a.page.toString()),a?.limit&&b.set("limit",a.limit.toString()),a?.teamId&&b.set("teamId",a.teamId),a?.walletId&&b.set("walletId",a.walletId);let c=b.toString();return this.request(`/api/credits/transactions${c?`?${c}`:""}`)}async getWhiteLabelConfigs(a){let b=a?`?teamId=${a}`:"";return this.request(`/api/white-label${b}`)}async getWhiteLabelConfig(a){return this.request(`/api/white-label/${a}`)}async createWhiteLabelConfig(a){return this.request("/api/white-label",{method:"POST",body:JSON.stringify(a)})}async updateWhiteLabelConfig(a,b){return this.request(`/api/white-label/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteWhiteLabelConfig(a){return this.request(`/api/white-label/${a}`,{method:"DELETE"})}async getReferrals(a){let b=new URLSearchParams;return a?.referrerId&&b.set("referrerId",a.referrerId),a?.status&&b.set("status",a.status),this.request(`/api/referrals?${b}`)}async createReferral(a){return this.request("/api/referrals",{method:"POST",body:JSON.stringify(a)})}async getUsers(a){let b=new URLSearchParams;a?.page&&b.set("page",a.page.toString()),a?.limit&&b.set("limit",a.limit.toString()),a?.role&&b.set("role",a.role),a?.status&&b.set("status",a.status),a?.search&&b.set("search",a.search);let c=b.toString();return this.request(`/api/users${c?`?${c}`:""}`)}async getUser(a){return this.request(`/api/users/${a}`)}async createUser(a){return this.request("/api/users",{method:"POST",body:JSON.stringify(a)})}async updateUser(a,b){return this.request(`/api/users/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async deleteUser(a){return this.request(`/api/users/${a}`,{method:"DELETE"})}async suspendUser(a,b){return this.request(`/api/users/${a}/suspend`,{method:"POST",body:JSON.stringify({reason:b})})}async activateUser(a){return this.request(`/api/users/${a}/activate`,{method:"POST"})}async getAgentAnalytics(a){return this.request(`/api/agents/${a}/analytics`)}async getTeamAnalytics(a){return this.request(`/api/teams/${a}/analytics`)}async getSubscriptions(a){let b=a?`?teamId=${a}`:"";return this.request(`/api/subscriptions${b}`)}async createSubscription(a){return this.request("/api/subscriptions",{method:"POST",body:JSON.stringify(a)})}async cancelSubscription(a,b=!0,c){return this.request(`/api/subscriptions/${a}/cancel`,{method:"POST",body:JSON.stringify({cancelAtPeriodEnd:b,reason:c})})}async getSubscriptionPlans(){return this.request("/api/subscriptions/plans")}async createSubscriptionPlan(a){return this.request("/api/subscriptions/plans",{method:"POST",body:JSON.stringify(a)})}async deleteSubscriptionPlan(a){return this.request(`/api/subscriptions/plans/${a}`,{method:"DELETE"})}async getPaymentMethods(a){let b=a?`?teamId=${a}`:"";return this.request(`/api/payment-methods${b}`)}async addPaymentMethod(a){return this.request("/api/payment-methods",{method:"POST",body:JSON.stringify(a)})}async deletePaymentMethod(a){return this.request(`/api/payment-methods/${a}`,{method:"DELETE"})}async setDefaultPaymentMethod(a){return this.request(`/api/payment-methods/${a}/default`,{method:"POST"})}async getAuditLogs(a){let b=new URLSearchParams;a?.page&&b.set("page",a.page.toString()),a?.limit&&b.set("limit",a.limit.toString()),a?.userId&&b.set("userId",a.userId),a?.resource&&b.set("resource",a.resource),a?.startDate&&b.set("startDate",a.startDate),a?.endDate&&b.set("endDate",a.endDate);let c=b.toString();return this.request(`/api/audit-logs${c?`?${c}`:""}`)}async getFeatureFlags(){return this.request("/api/admin/feature-flags")}async createFeatureFlag(a){return this.request("/api/admin/feature-flags",{method:"POST",body:JSON.stringify(a)})}async updateFeatureFlag(a,b){return this.request(`/api/admin/feature-flags/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async getAdminSettings(a){let b=a?`?category=${a}`:"";return this.request(`/api/admin/settings${b}`)}async updateAdminSettings(a){return this.request("/api/admin/settings",{method:"PUT",body:JSON.stringify(a)})}async getUsageReport(a,b){let c=new URLSearchParams;a&&c.set("startDate",a),b&&c.set("endDate",b);let d=c.toString();return this.request(`/api/reports/usage${d?`?${d}`:""}`)}async generateUsageReport(a){return this.request("/api/reports/usage",{method:"POST",body:JSON.stringify(a)})}};a.s(["apiClient",0,d],62477)},2286,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(62477),e=a.i(62394);function f(){let[a,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(!1),i=(a,b,c)=>{f(d=>[...d,{test:a,success:b,data:c,timestamp:new Date().toISOString()}])},j=async()=>{f([]),h(!0);try{let a=(0,e.getCurrentUser)();i("Firebase Auth",!!a,{email:a?.email,uid:a?.uid});let b=await (0,e.getCurrentUserToken)();i("Firebase Token",!!b,{tokenLength:b?.length});try{let a=await d.apiClient.getAgents();i("GET /api/agents",a.success,a)}catch(a){i("GET /api/agents",!1,{error:a.message})}try{let a=await d.apiClient.getTeams();i("GET /api/teams",a.success,a)}catch(a){i("GET /api/teams",!1,{error:a.message})}try{let a=await d.apiClient.getOverview();i("GET /api/overview",a.success,a)}catch(a){i("GET /api/overview",!1,{error:a.message})}}catch(a){i("Test Suite",!1,{error:a.message})}finally{h(!1)}};return(0,b.jsxs)("div",{className:"p-8 max-w-4xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"API Test Page"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Test your API endpoints and authentication"})]}),(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsx)("button",{onClick:j,disabled:g,className:"px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:g?"Running Tests...":"Run API Tests"})}),(0,b.jsx)("div",{className:"space-y-4",children:a.map((a,c)=>(0,b.jsxs)("div",{className:`p-4 rounded-lg border ${a.success?"bg-green-500/10 border-green-500/20":"bg-red-500/10 border-red-500/20"}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"font-semibold text-foreground",children:a.test}),(0,b.jsx)("span",{className:`text-sm font-medium px-3 py-1 rounded-full ${a.success?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:a.success?"✓ PASS":"✗ FAIL"})]}),(0,b.jsx)("pre",{className:"text-xs text-muted-foreground overflow-auto p-3 bg-black/20 rounded",children:JSON.stringify(a.data,null,2)}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:new Date(a.timestamp).toLocaleString()})]},c))}),0===a.length&&!g&&(0,b.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:(0,b.jsx)("p",{children:'Click "Run API Tests" to start testing your endpoints'})})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=_c5ef1138._.js.map