module.exports=[32126,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(87532);let e=(0,a.i(70106).default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var f=a.i(50522),g=a.i(15618),h=a.i(96221),i=a.i(60246),j=a.i(1027),k=a.i(62477),l=a.i(95558);function m(){let[a,m]=(0,c.useState)(""),[n,o]=(0,c.useState)("all"),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)([]),[v,w]=(0,c.useState)({}),[x,y]=(0,c.useState)(!0),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(""),[L,M]=(0,c.useState)(1),[N,O]=(0,c.useState)(!1),[P,Q]=(0,c.useState)(""),[R,S]=(0,c.useState)(""),[T,U]=(0,c.useState)({name:"",teamId:"",status:"active",description:""}),[V,W]=(0,c.useState)({name:"",ownerId:"admin",seatCap:5,description:""});(0,c.useEffect)(()=>{X()},[]);let X=async()=>{try{y(!0),Q("");let a=await k.apiClient.getAgents(),b=await k.apiClient.getTeams();if(a?.success&&a?.data){let b=a.data.data||a.data||[],c=Array.isArray(b)?b:[];s(c)}else console.warn("Failed to fetch agents:",a?.error);if(b?.success&&b?.data){let a=b.data.data||b.data||[],c=Array.isArray(a)?a:[];u(c)}else console.warn("Failed to fetch teams:",b?.error)}catch(a){console.error("Error fetching data:",a),Q("Failed to load data. Please try again.")}finally{y(!1)}},Y=async a=>{a.preventDefault(),Q(""),S(""),C(!0);try{(await k.apiClient.createAgent({name:T.name,teamId:T.teamId,status:T.status,metadata:T.description?{description:T.description}:void 0})).success&&(S("Agent created successfully!"),U({name:"",teamId:"",status:"active",description:""}),A(!1),await X())}catch(a){Q(a.message||"Failed to create agent")}finally{C(!1)}},Z=async a=>{a.preventDefault(),Q(""),S(""),G(!0);try{(await k.apiClient.createTeam({name:V.name,ownerId:V.ownerId,metadata:{seatCap:V.seatCap,description:V.description}})).success&&(S("Team created successfully!"),W({name:"",ownerId:"admin",seatCap:5,description:""}),E(!1),await X())}catch(a){Q(a.message||"Failed to create team")}finally{G(!1)}},$=async()=>{if(!J||L<1)return void Q("Invalid seat assignment");O(!0);try{let a=r.find(a=>(a.agentId||a.id)===J);if(!a)return void Q("Agent not found");(await k.apiClient.updateAgent(J,{metadata:{...a.metadata,seatsAssigned:L}})).success&&(S(`Assigned ${L} seat(s) to ${a.name}`),I(!1),K(""),M(1),await X())}catch(a){Q(a.message||"Failed to assign seats")}finally{O(!1)}},_=r.filter(b=>{let c=a.toLowerCase(),d=b.agentId||b.id||"",e=b.name||"",f=b.teamId||"",g=b.status||"active";return(d.toLowerCase().includes(c)||e.toLowerCase().includes(c)||f.toLowerCase().includes(c))&&("all"===n||g===n)}).map(a=>{let b,c=(b=a.metadata?.seatsAssigned||0,{used:a.metadata?.seatsUsed||0,assigned:b});return{id:a.agentId||a.id,name:a.name,teamId:a.teamId,status:a.status,seats:c}});return(0,b.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto space-y-4 sm:space-y-6 animate-fade-in-up",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground mb-1 sm:mb-2",children:"Agents & Teams"}),(0,b.jsx)("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Manage and inspect all agents and teams across the platform"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{onClick:()=>E(!0),className:"flex items-center gap-2 px-4 py-2 bg-secondary text-secondary-foreground rounded-lg hover:bg-secondary/90 transition-all duration-200 hover:shadow-lg",children:[(0,b.jsx)(i.Users,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Create Team"})]}),(0,b.jsxs)("button",{onClick:()=>A(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-all duration-200 hover:shadow-lg",children:[(0,b.jsx)(g.Plus,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Create Agent"})]})]})]}),P&&(0,b.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3 text-red-400 text-sm",children:P}),R&&(0,b.jsx)("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-3 text-green-400 text-sm",children:R}),(0,b.jsx)("div",{className:"bg-card border border-border rounded-lg p-4 sm:p-6 mb-4 sm:mb-6 animate-fade-in-up",style:{animationDelay:"0.1s"},children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(d.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,b.jsx)("input",{type:"text",placeholder:"Search by agentId, name, or teamId...",value:a,onChange:a=>m(a.target.value),className:"w-full pl-10 pr-3 sm:pr-4 py-2 sm:py-3 bg-input border border-border rounded-lg text-sm sm:text-base text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:()=>q(!p),className:`flex items-center justify-center gap-2 px-4 py-2 sm:py-3 rounded-lg transition-all duration-200 hover:shadow-md whitespace-nowrap ${"all"!==n?"bg-primary text-primary-foreground border border-primary":"bg-input border border-border text-foreground hover:bg-muted"}`,children:[(0,b.jsx)(e,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-sm",children:"all"===n?"Filter":`Status: ${n}`})]}),p&&(0,b.jsx)("div",{className:"absolute top-full right-0 mt-2 bg-card border border-border rounded-lg shadow-lg z-10 min-w-[180px]",children:["all","active","inactive"].map(a=>(0,b.jsx)("button",{onClick:()=>{o(a),q(!1)},className:`w-full text-left px-4 py-3 text-sm transition-all duration-200 ${n===a?"bg-primary/20 text-primary font-semibold border-l-2 border-primary":"text-foreground hover:bg-muted"}`,children:a.charAt(0).toUpperCase()+a.slice(1)},a))})]})]})}),(0,b.jsx)(l.Dialog,{isOpen:z,onClose:()=>{A(!1),Q(""),U({name:"",teamId:"",status:"active",description:""})},title:"Create New Agent",children:(0,b.jsxs)("form",{onSubmit:Y,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Agent Name *"}),(0,b.jsx)("input",{type:"text",value:T.name,onChange:a=>U({...T,name:a.target.value}),placeholder:"e.g., Customer Support Bot",required:!0,className:"w-full px-3 py-2 bg-input border border-border rounded-lg text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Team *"}),t.length>0?(0,b.jsxs)("select",{value:T.teamId,onChange:a=>U({...T,teamId:a.target.value}),required:!0,className:"w-full px-3 py-2 bg-input border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,b.jsx)("option",{value:"",children:"Select a team..."}),t.map(a=>(0,b.jsxs)("option",{value:a.teamId||a.id,children:[a.name," (",a.teamId||a.id,")"]},a.teamId||a.id))]}):(0,b.jsx)("input",{type:"text",value:T.teamId,onChange:a=>U({...T,teamId:a.target.value}),placeholder:"Enter Team ID (or create a team first)",required:!0,className:"w-full px-3 py-2 bg-input border border-border rounded-lg text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),0===t.length&&(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"No teams found. Please enter a Team ID manually or create a team first."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Status"}),(0,b.jsxs)("select",{value:T.status,onChange:a=>U({...T,status:a.target.value}),className:"w-full px-3 py-2 bg-input border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,b.jsx)("option",{value:"active",children:"Active"}),(0,b.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Description (Optional)"}),(0,b.jsx)("textarea",{value:T.description,onChange:a=>U({...T,description:a.target.value}),placeholder:"Brief description of the agent...",rows:3,className:"w-full px-3 py-2 bg-input border border-border rounded-lg text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary resize-none"})]}),P&&(0,b.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3 text-red-400 text-sm",children:P}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:()=>{A(!1),Q("")},className:"flex-1 px-4 py-2 bg-muted text-foreground rounded-lg hover:bg-muted/80 transition-colors",disabled:B,children:"Cancel"}),(0,b.jsxs)("button",{type:"submit",disabled:B,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[B&&(0,b.jsx)(h.Loader2,{className:"w-4 h-4 animate-spin"}),B?"Creating...":"Create Agent"]})]})]})}),(0,b.jsx)(l.Dialog,{isOpen:D,onClose:()=>{E(!1),Q(""),W({name:"",ownerId:"admin",seatCap:5,description:""})},title:"Create New Team",children:(0,b.jsxs)("form",{onSubmit:Z,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Team Name *"}),(0,b.jsx)("input",{type:"text",value:V.name,onChange:a=>W({...V,name:a.target.value}),placeholder:"e.g., Engineering Team",required:!0,className:"w-full px-3 py-2 bg-input border border-border rounded-lg text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Owner ID *"}),(0,b.jsx)("input",{type:"text",value:V.ownerId,onChange:a=>W({...V,ownerId:a.target.value}),placeholder:"e.g., admin",required:!0,className:"w-full px-3 py-2 bg-input border border-border rounded-lg text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Seat Cap"}),(0,b.jsx)("input",{type:"number",value:V.seatCap,onChange:a=>W({...V,seatCap:Number(a.target.value)}),min:1,className:"w-full px-3 py-2 bg-input border border-border rounded-lg text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Description (Optional)"}),(0,b.jsx)("textarea",{value:V.description,onChange:a=>W({...V,description:a.target.value}),placeholder:"Brief description of the team...",rows:3,className:"w-full px-3 py-2 bg-input border border-border rounded-lg text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary resize-none"})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:()=>{E(!1),Q("")},className:"flex-1 px-4 py-2 bg-muted text-foreground rounded-lg hover:bg-muted/80 transition-colors",disabled:F,children:"Cancel"}),(0,b.jsxs)("button",{type:"submit",disabled:F,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[F&&(0,b.jsx)(h.Loader2,{className:"w-4 h-4 animate-spin"}),F?"Creating...":"Create Team"]})]})]})}),(0,b.jsx)(l.Dialog,{isOpen:H,onClose:()=>{I(!1),K(""),M(1),Q("")},title:"Assign Seats to Agent",children:(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),$()},className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Agent *"}),(0,b.jsxs)("select",{value:J,onChange:a=>K(a.target.value),required:!0,className:"w-full px-3 py-2 bg-input border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,b.jsx)("option",{value:"",children:"Select an agent..."}),r.map(a=>(0,b.jsxs)("option",{value:a.agentId||a.id,children:[a.name," (",a.agentId||a.id,")"]},a.agentId||a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Number of Seats *"}),(0,b.jsx)("input",{type:"number",value:L,onChange:a=>M(Number(a.target.value)),min:1,required:!0,className:"w-full px-3 py-2 bg-input border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Number of execution seats to allocate"})]}),P&&(0,b.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3 text-red-400 text-sm",children:P}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:()=>{I(!1),Q("")},className:"flex-1 px-4 py-2 bg-muted text-foreground rounded-lg hover:bg-muted/80 transition-colors",disabled:N,children:"Cancel"}),(0,b.jsxs)("button",{type:"submit",disabled:N,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[N&&(0,b.jsx)(h.Loader2,{className:"w-4 h-4 animate-spin"}),N?"Assigning...":"Assign Seats"]})]})]})}),(0,b.jsx)("div",{className:"space-y-2 sm:space-y-3",children:x?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Loading agents..."})]}):0===_.length?(0,b.jsxs)("div",{className:"text-center py-12 bg-card border border-border rounded-lg",children:[(0,b.jsx)("p",{className:"text-muted-foreground mb-2",children:"No agents found"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Create your first agent to get started"})]}):_.map((a,c)=>(0,b.jsx)("div",{style:{animation:`fadeInUp 0.4s ease-out ${.1*c}s both`},className:"bg-card border border-border rounded-lg p-3 sm:p-4 hover:border-primary/50 hover:shadow-lg hover:shadow-primary/5 transition-all duration-300 cursor-pointer group",children:(0,b.jsxs)("div",{className:"flex flex-col gap-3 sm:gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm sm:text-base text-card-foreground group-hover:text-primary transition-colors",children:a.name}),(0,b.jsx)("span",{className:`text-xs px-2.5 py-0.5 rounded-full font-semibold whitespace-nowrap ${"active"===a.status?"bg-green-500/20 text-green-400":"bg-muted text-muted-foreground"}`,children:a.status})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-6 mt-2 text-xs sm:text-sm flex-wrap",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:(0,b.jsx)("span",{className:"font-mono text-foreground",children:a.id})}),(0,b.jsxs)("span",{className:"text-muted-foreground",children:["Team: ",(0,b.jsx)("span",{className:"font-mono text-foreground",children:a.teamId})]}),(0,b.jsxs)("span",{className:"text-muted-foreground",children:["Seats:"," ",(0,b.jsxs)("span",{className:`font-semibold ${a.seats.assigned>0?"text-green-400":"text-yellow-400"}`,children:[a.seats.used,"/",a.seats.assigned]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("button",{onClick:()=>{K(a.id),I(!0)},className:"px-3 py-1.5 bg-accent/10 text-accent rounded-lg hover:bg-accent/20 transition-colors text-xs font-medium",children:[(0,b.jsx)(j.Zap,{className:"w-3 h-3 inline mr-1"}),"Assign Seats"]}),(0,b.jsx)(f.ChevronRight,{className:"w-4 h-4 sm:w-5 sm:h-5 text-muted-foreground group-hover:text-primary group-hover:translate-x-1 transition-all flex-shrink-0"})]})]},a.id)},`${a.id}-${a.teamId}-${c}`))})]})}a.s(["default",()=>m],32126)}];

//# sourceMappingURL=components_pages_agents-teams_tsx_940f48d8._.js.map