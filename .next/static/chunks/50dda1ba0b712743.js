(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15760,e=>{"use strict";var t=e.i(60664);e.i(47167);var s=e.i(93210);let a=new class{apiKey=null;setApiKey(e){this.apiKey=e}async request(e,a={},r=!0){let i={"Content-Type":"application/json"};try{let e=await (0,t.getCurrentUserToken)();e?i.Authorization=`Bearer ${e}`:this.apiKey&&(i["x-api-key"]=this.apiKey)}catch(e){console.warn("Error getting Firebase token (continuing without auth):",e)}a.headers&&Object.assign(i,a.headers);try{let t=r?s.fetchWithRetry:fetch,n=await t(`http://localhost:3000${e}`,{...a,headers:i}),o=await n.json();if(!n.ok)return console.error(`API Error [${n.status}] at ${e}:`,o),{success:!1,error:o.error||"API request failed",data:null};return o}catch(t){return console.error(`Request failed for ${e}:`,t),{success:!1,error:t instanceof Error?t.message:"Request failed",data:null}}}async getOverview(){return this.request("/api/overview")}async getAgents(e){let t=new URLSearchParams;e?.page&&t.set("page",e.page.toString()),e?.limit&&t.set("limit",e.limit.toString()),e?.teamId&&t.set("teamId",e.teamId),e?.status&&t.set("status",e.status),e?.search&&t.set("search",e.search);let s=t.toString();return this.request(`/api/agents${s?`?${s}`:""}`)}async getAgent(e){return this.request(`/api/agents/${e}`)}async createAgent(e){return this.request("/api/agents",{method:"POST",body:JSON.stringify(e)})}async updateAgent(e,t){return this.request(`/api/agents/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async deleteAgent(e){return this.request(`/api/agents/${e}`,{method:"DELETE"})}async getTeams(e){let t=new URLSearchParams;e?.page&&t.set("page",e.page.toString()),e?.limit&&t.set("limit",e.limit.toString()),e?.ownerId&&t.set("ownerId",e.ownerId),e?.status&&t.set("status",e.status),e?.search&&t.set("search",e.search);let s=t.toString();return this.request(`/api/teams${s?`?${s}`:""}`)}async getTeam(e){return this.request(`/api/teams/${e}`)}async createTeam(e){return this.request("/api/teams",{method:"POST",body:JSON.stringify(e)})}async updateTeam(e,t){return this.request(`/api/teams/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async deleteTeam(e){return this.request(`/api/teams/${e}`,{method:"DELETE"})}async getTeamMembers(e){return this.request(`/api/teams/${e}/members`)}async addTeamMember(e,t){return this.request(`/api/teams/${e}/members`,{method:"POST",body:JSON.stringify(t)})}async removeTeamMember(e,t){return this.request(`/api/teams/${e}/members/${t}`,{method:"DELETE"})}async getTeamInvites(e){return this.request(`/api/teams/${e}/invites`)}async createTeamInvite(e,t){return this.request(`/api/teams/${e}/invites`,{method:"POST",body:JSON.stringify(t)})}async getContracts(e){let t=new URLSearchParams;e?.page&&t.set("page",e.page.toString()),e?.limit&&t.set("limit",e.limit.toString()),e?.teamId&&t.set("teamId",e.teamId);let s=t.toString();return this.request(`/api/billing/contracts${s?`?${s}`:""}`)}async getContract(e){return this.request(`/api/billing/contracts/${e}`)}async createContract(e){return this.request("/api/billing/contracts",{method:"POST",body:JSON.stringify(e)})}async updateContract(e,t){return this.request(`/api/billing/contracts/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async cancelContract(e){return this.request(`/api/billing/contracts/${e}`,{method:"DELETE"})}async getInvoices(e){let t=e?`?teamId=${e}`:"";return this.request(`/api/billing/invoices${t}`)}async createInvoice(e){return this.request("/api/billing/invoices",{method:"POST",body:JSON.stringify(e)})}async getWallet(e){return this.request(`/api/wallets?teamId=${e}`)}async createWallet(e){return this.request("/api/wallets",{method:"POST",body:JSON.stringify(e)})}async grantCredits(e){return this.request("/api/credits/grant",{method:"POST",body:JSON.stringify(e)})}async getTransactions(e){let t=new URLSearchParams;e?.page&&t.set("page",e.page.toString()),e?.limit&&t.set("limit",e.limit.toString()),e?.teamId&&t.set("teamId",e.teamId),e?.walletId&&t.set("walletId",e.walletId);let s=t.toString();return this.request(`/api/credits/transactions${s?`?${s}`:""}`)}async getWhiteLabelConfigs(e){let t=e?`?teamId=${e}`:"";return this.request(`/api/white-label${t}`)}async getWhiteLabelConfig(e){return this.request(`/api/white-label/${e}`)}async createWhiteLabelConfig(e){return this.request("/api/white-label",{method:"POST",body:JSON.stringify(e)})}async updateWhiteLabelConfig(e,t){return this.request(`/api/white-label/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async deleteWhiteLabelConfig(e){return this.request(`/api/white-label/${e}`,{method:"DELETE"})}async getReferrals(e){let t=new URLSearchParams;return e?.referrerId&&t.set("referrerId",e.referrerId),e?.status&&t.set("status",e.status),this.request(`/api/referrals?${t}`)}async createReferral(e){return this.request("/api/referrals",{method:"POST",body:JSON.stringify(e)})}async getUsers(e){let t=new URLSearchParams;e?.page&&t.set("page",e.page.toString()),e?.limit&&t.set("limit",e.limit.toString()),e?.role&&t.set("role",e.role),e?.status&&t.set("status",e.status),e?.search&&t.set("search",e.search);let s=t.toString();return this.request(`/api/users${s?`?${s}`:""}`)}async getUser(e){return this.request(`/api/users/${e}`)}async createUser(e){return this.request("/api/users",{method:"POST",body:JSON.stringify(e)})}async updateUser(e,t){return this.request(`/api/users/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async deleteUser(e){return this.request(`/api/users/${e}`,{method:"DELETE"})}async suspendUser(e,t){return this.request(`/api/users/${e}/suspend`,{method:"POST",body:JSON.stringify({reason:t})})}async activateUser(e){return this.request(`/api/users/${e}/activate`,{method:"POST"})}async getAgentAnalytics(e){return this.request(`/api/agents/${e}/analytics`)}async getTeamAnalytics(e){return this.request(`/api/teams/${e}/analytics`)}async getSubscriptions(e){let t=e?`?teamId=${e}`:"";return this.request(`/api/subscriptions${t}`)}async createSubscription(e){return this.request("/api/subscriptions",{method:"POST",body:JSON.stringify(e)})}async cancelSubscription(e,t=!0,s){return this.request(`/api/subscriptions/${e}/cancel`,{method:"POST",body:JSON.stringify({cancelAtPeriodEnd:t,reason:s})})}async getSubscriptionPlans(){return this.request("/api/subscriptions/plans")}async createSubscriptionPlan(e){return this.request("/api/subscriptions/plans",{method:"POST",body:JSON.stringify(e)})}async deleteSubscriptionPlan(e){return this.request(`/api/subscriptions/plans/${e}`,{method:"DELETE"})}async getPaymentMethods(e){let t=e?`?teamId=${e}`:"";return this.request(`/api/payment-methods${t}`)}async addPaymentMethod(e){return this.request("/api/payment-methods",{method:"POST",body:JSON.stringify(e)})}async deletePaymentMethod(e){return this.request(`/api/payment-methods/${e}`,{method:"DELETE"})}async setDefaultPaymentMethod(e){return this.request(`/api/payment-methods/${e}/default`,{method:"POST"})}async getAuditLogs(e){let t=new URLSearchParams;e?.page&&t.set("page",e.page.toString()),e?.limit&&t.set("limit",e.limit.toString()),e?.userId&&t.set("userId",e.userId),e?.resource&&t.set("resource",e.resource),e?.startDate&&t.set("startDate",e.startDate),e?.endDate&&t.set("endDate",e.endDate);let s=t.toString();return this.request(`/api/audit-logs${s?`?${s}`:""}`)}async getFeatureFlags(){return this.request("/api/admin/feature-flags")}async createFeatureFlag(e){return this.request("/api/admin/feature-flags",{method:"POST",body:JSON.stringify(e)})}async updateFeatureFlag(e,t){return this.request(`/api/admin/feature-flags/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async getAdminSettings(e){let t=e?`?category=${e}`:"";return this.request(`/api/admin/settings${t}`)}async updateAdminSettings(e){return this.request("/api/admin/settings",{method:"PUT",body:JSON.stringify(e)})}async getUsageReport(e,t){let s=new URLSearchParams;e&&s.set("startDate",e),t&&s.set("endDate",t);let a=s.toString();return this.request(`/api/reports/usage${a?`?${a}`:""}`)}async generateUsageReport(e){return this.request("/api/reports/usage",{method:"POST",body:JSON.stringify(e)})}};e.s(["apiClient",0,a],15760)},63209,e=>{"use strict";let t=(0,e.i(75254).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},55436,e=>{"use strict";let t=(0,e.i(75254).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>t],55436)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},63156,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(55436),r=e.i(63209),i=e.i(69638),n=e.i(3116);let o=(0,e.i(75254).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var l=e.i(60664),u=e.i(18566),d=e.i(15760);function c(){let e=(0,u.useRouter)(),[c,m]=(0,s.useState)(""),[h,g]=(0,s.useState)([]),[p,y]=(0,s.useState)(!1),[f,b]=(0,s.useState)({agents:0,teams:0,loading:!0}),[x,S]=(0,s.useState)([]),[q,$]=(0,s.useState)([]);(0,s.useEffect)(()=>{(async()=>{try{let e=await (0,l.getCurrentUserToken)();if(!e)return;let t=await fetch("/api/overview",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){let e=await t.json();b({agents:e.data?.totalAgents||0,teams:e.data?.totalTeams||0,loading:!1})}let s=await d.apiClient.getAgents(),a=await d.apiClient.getTeams();if(s?.success&&s?.data){let e=s.data.data||s.data||[];S(Array.isArray(e)?e:[])}if(a?.success&&a?.data){let e=a.data.data||a.data||[];$(Array.isArray(e)?e:[])}}catch(e){console.error("Error fetching overview:",e),b(e=>({...e,loading:!1}))}})()},[]),(0,s.useEffect)(()=>{if(!c.trim())return void g([]);y(!0);let e=c.toLowerCase(),t=[];x.forEach(s=>{let a=s.agentId||s.id||"",r=s.name||"";(a.toLowerCase().includes(e)||r.toLowerCase().includes(e))&&t.push({type:"agent",id:a,name:r,teamId:s.teamId,status:s.status,icon:"âš™ï¸"})}),q.forEach(s=>{let a=s.teamId||s.id||"",r=s.name||"";(a.toLowerCase().includes(e)||r.toLowerCase().includes(e))&&t.push({type:"team",id:a,name:r,status:s.status,icon:"ðŸ‘¥"})}),g(t),y(!1)},[c,x,q]);let T=[{label:"System Health",value:"Operational",icon:i.CheckCircle,color:"green",status:"All systems operational"},{label:"Active Agents",value:f.loading?"...":f.agents.toString(),icon:r.AlertCircle,color:"cyan",status:"Real-time data"},{label:"Teams",value:f.loading?"...":f.teams.toString(),icon:r.AlertCircle,color:"teal",status:"Real-time data"}];return(0,t.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto space-y-6 sm:space-y-8 animate-fade-in-up",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground mb-1 sm:mb-2",children:"Overview"}),(0,t.jsx)("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Health status and quick navigation to platform resources"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:T.map((e,s)=>{let a=e.icon;return(0,t.jsxs)("div",{style:{animation:`fadeInUp 0.4s ease - out ${.1*s}s both`},className:"bg-card border border-border rounded-lg p-4 sm:p-6 hover:border-primary/50 hover:shadow-lg hover:shadow-primary/5 transition-all duration-300",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-sm sm:text-base text-card-foreground",children:e.label}),(0,t.jsx)(a,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})]}),(0,t.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-primary",children:e.value}),(0,t.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground mt-2",children:e.status}),(0,t.jsxs)("div",{className:"flex items-center gap-1 mt-3 text-xs text-muted-foreground",children:[(0,t.jsx)(n.Clock,{className:"w-3 h-3"}),"Last update: just now"]})]},e.label)})}),(0,t.jsxs)("div",{className:"bg-card border border-border rounded-lg p-4 sm:p-6 animate-fade-in-up",style:{animationDelay:"0.3s"},children:[(0,t.jsx)("h2",{className:"text-base sm:text-lg font-semibold text-card-foreground mb-2",children:"Quick Search"}),(0,t.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground mb-4",children:"Find and jump directly to teams or agents"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(a.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,t.jsx)("input",{type:"text",placeholder:"Enter teamId or agentId...",value:c,onChange:e=>m(e.target.value),className:"w-full pl-10 pr-3 sm:pr-4 py-2 sm:py-3 bg-input border border-border rounded-lg text-sm sm:text-base text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200"})]}),c&&(0,t.jsxs)("div",{className:"mt-3 sm:mt-4 p-3 sm:p-4 bg-primary/5 border border-primary/20 rounded-lg text-xs sm:text-sm text-muted-foreground animate-fade-in",style:{animation:"fadeIn 0.2s ease - out"},children:[(0,t.jsxs)("p",{className:"font-semibold text-foreground mb-3",children:["Found ",h.length," result",1!==h.length?"s":""]}),h.length>0?(0,t.jsxs)("div",{className:"space-y-2",children:[h.slice(0,5).map((s,a)=>(0,t.jsxs)("button",{onClick:()=>e.push("/dashboard/agents-teams"),className:"w-full text-left p-2 bg-background/50 border border-border/50 rounded-lg hover:bg-primary/10 hover:border-primary/50 transition-all duration-200 flex items-center justify-between group",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm",children:s.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-foreground text-xs sm:text-sm",children:s.name}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"agent"===s.type?`Team: ${s.teamId}`:`ID: ${s.id}`})]})]}),(0,t.jsx)(o,{className:"w-3.5 h-3.5 text-muted-foreground group-hover:text-primary transition-colors flex-shrink-0"})]},a)),h.length>5&&(0,t.jsxs)("p",{className:"text-xs text-muted-foreground text-center py-1",children:["+",h.length-5," more results"]})]}):(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:['No agents or teams found matching "',c,'"']})]})]})]})}e.s(["default",()=>c],63156)}]);