(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15760,e=>{"use strict";var t=e.i(60664);e.i(47167);var s=e.i(93210);let r=new class{apiKey=null;setApiKey(e){this.apiKey=e}async request(e,r={},a=!0){let i={"Content-Type":"application/json"};try{let e=await (0,t.getCurrentUserToken)();e?i.Authorization=`Bearer ${e}`:this.apiKey&&(i["x-api-key"]=this.apiKey)}catch(e){console.warn("Error getting Firebase token (continuing without auth):",e)}r.headers&&Object.assign(i,r.headers);try{let t=a?s.fetchWithRetry:fetch,n=await t(`http://localhost:3000${e}`,{...r,headers:i}),u=await n.json();if(!n.ok)return console.error(`API Error [${n.status}] at ${e}:`,u),{success:!1,error:u.error||"API request failed",data:null};return u}catch(t){return console.error(`Request failed for ${e}:`,t),{success:!1,error:t instanceof Error?t.message:"Request failed",data:null}}}async getOverview(){return this.request("/api/overview")}async getAgents(e){let t=new URLSearchParams;e?.page&&t.set("page",e.page.toString()),e?.limit&&t.set("limit",e.limit.toString()),e?.teamId&&t.set("teamId",e.teamId),e?.status&&t.set("status",e.status),e?.search&&t.set("search",e.search);let s=t.toString();return this.request(`/api/agents${s?`?${s}`:""}`)}async getAgent(e){return this.request(`/api/agents/${e}`)}async createAgent(e){return this.request("/api/agents",{method:"POST",body:JSON.stringify(e)})}async updateAgent(e,t){return this.request(`/api/agents/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async deleteAgent(e){return this.request(`/api/agents/${e}`,{method:"DELETE"})}async getTeams(e){let t=new URLSearchParams;e?.page&&t.set("page",e.page.toString()),e?.limit&&t.set("limit",e.limit.toString()),e?.ownerId&&t.set("ownerId",e.ownerId),e?.status&&t.set("status",e.status),e?.search&&t.set("search",e.search);let s=t.toString();return this.request(`/api/teams${s?`?${s}`:""}`)}async getTeam(e){return this.request(`/api/teams/${e}`)}async createTeam(e){return this.request("/api/teams",{method:"POST",body:JSON.stringify(e)})}async updateTeam(e,t){return this.request(`/api/teams/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async deleteTeam(e){return this.request(`/api/teams/${e}`,{method:"DELETE"})}async getTeamMembers(e){return this.request(`/api/teams/${e}/members`)}async addTeamMember(e,t){return this.request(`/api/teams/${e}/members`,{method:"POST",body:JSON.stringify(t)})}async removeTeamMember(e,t){return this.request(`/api/teams/${e}/members/${t}`,{method:"DELETE"})}async getTeamInvites(e){return this.request(`/api/teams/${e}/invites`)}async createTeamInvite(e,t){return this.request(`/api/teams/${e}/invites`,{method:"POST",body:JSON.stringify(t)})}async getContracts(e){let t=new URLSearchParams;e?.page&&t.set("page",e.page.toString()),e?.limit&&t.set("limit",e.limit.toString()),e?.teamId&&t.set("teamId",e.teamId);let s=t.toString();return this.request(`/api/billing/contracts${s?`?${s}`:""}`)}async getContract(e){return this.request(`/api/billing/contracts/${e}`)}async createContract(e){return this.request("/api/billing/contracts",{method:"POST",body:JSON.stringify(e)})}async updateContract(e,t){return this.request(`/api/billing/contracts/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async cancelContract(e){return this.request(`/api/billing/contracts/${e}`,{method:"DELETE"})}async getInvoices(e){let t=e?`?teamId=${e}`:"";return this.request(`/api/billing/invoices${t}`)}async createInvoice(e){return this.request("/api/billing/invoices",{method:"POST",body:JSON.stringify(e)})}async getWallet(e){return this.request(`/api/wallets?teamId=${e}`)}async createWallet(e){return this.request("/api/wallets",{method:"POST",body:JSON.stringify(e)})}async grantCredits(e){return this.request("/api/credits/grant",{method:"POST",body:JSON.stringify(e)})}async getTransactions(e){let t=new URLSearchParams;e?.page&&t.set("page",e.page.toString()),e?.limit&&t.set("limit",e.limit.toString()),e?.teamId&&t.set("teamId",e.teamId),e?.walletId&&t.set("walletId",e.walletId);let s=t.toString();return this.request(`/api/credits/transactions${s?`?${s}`:""}`)}async getWhiteLabelConfigs(e){let t=e?`?teamId=${e}`:"";return this.request(`/api/white-label${t}`)}async getWhiteLabelConfig(e){return this.request(`/api/white-label/${e}`)}async createWhiteLabelConfig(e){return this.request("/api/white-label",{method:"POST",body:JSON.stringify(e)})}async updateWhiteLabelConfig(e,t){return this.request(`/api/white-label/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async deleteWhiteLabelConfig(e){return this.request(`/api/white-label/${e}`,{method:"DELETE"})}async getReferrals(e){let t=new URLSearchParams;return e?.referrerId&&t.set("referrerId",e.referrerId),e?.status&&t.set("status",e.status),this.request(`/api/referrals?${t}`)}async createReferral(e){return this.request("/api/referrals",{method:"POST",body:JSON.stringify(e)})}async getUsers(e){let t=new URLSearchParams;e?.page&&t.set("page",e.page.toString()),e?.limit&&t.set("limit",e.limit.toString()),e?.role&&t.set("role",e.role),e?.status&&t.set("status",e.status),e?.search&&t.set("search",e.search);let s=t.toString();return this.request(`/api/users${s?`?${s}`:""}`)}async getUser(e){return this.request(`/api/users/${e}`)}async createUser(e){return this.request("/api/users",{method:"POST",body:JSON.stringify(e)})}async updateUser(e,t){return this.request(`/api/users/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async deleteUser(e){return this.request(`/api/users/${e}`,{method:"DELETE"})}async suspendUser(e,t){return this.request(`/api/users/${e}/suspend`,{method:"POST",body:JSON.stringify({reason:t})})}async activateUser(e){return this.request(`/api/users/${e}/activate`,{method:"POST"})}async getAgentAnalytics(e){return this.request(`/api/agents/${e}/analytics`)}async getTeamAnalytics(e){return this.request(`/api/teams/${e}/analytics`)}async getSubscriptions(e){let t=e?`?teamId=${e}`:"";return this.request(`/api/subscriptions${t}`)}async createSubscription(e){return this.request("/api/subscriptions",{method:"POST",body:JSON.stringify(e)})}async cancelSubscription(e,t=!0,s){return this.request(`/api/subscriptions/${e}/cancel`,{method:"POST",body:JSON.stringify({cancelAtPeriodEnd:t,reason:s})})}async getSubscriptionPlans(){return this.request("/api/subscriptions/plans")}async createSubscriptionPlan(e){return this.request("/api/subscriptions/plans",{method:"POST",body:JSON.stringify(e)})}async deleteSubscriptionPlan(e){return this.request(`/api/subscriptions/plans/${e}`,{method:"DELETE"})}async getPaymentMethods(e){let t=e?`?teamId=${e}`:"";return this.request(`/api/payment-methods${t}`)}async addPaymentMethod(e){return this.request("/api/payment-methods",{method:"POST",body:JSON.stringify(e)})}async deletePaymentMethod(e){return this.request(`/api/payment-methods/${e}`,{method:"DELETE"})}async setDefaultPaymentMethod(e){return this.request(`/api/payment-methods/${e}/default`,{method:"POST"})}async getAuditLogs(e){let t=new URLSearchParams;e?.page&&t.set("page",e.page.toString()),e?.limit&&t.set("limit",e.limit.toString()),e?.userId&&t.set("userId",e.userId),e?.resource&&t.set("resource",e.resource),e?.startDate&&t.set("startDate",e.startDate),e?.endDate&&t.set("endDate",e.endDate);let s=t.toString();return this.request(`/api/audit-logs${s?`?${s}`:""}`)}async getFeatureFlags(){return this.request("/api/admin/feature-flags")}async createFeatureFlag(e){return this.request("/api/admin/feature-flags",{method:"POST",body:JSON.stringify(e)})}async updateFeatureFlag(e,t){return this.request(`/api/admin/feature-flags/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async getAdminSettings(e){let t=e?`?category=${e}`:"";return this.request(`/api/admin/settings${t}`)}async updateAdminSettings(e){return this.request("/api/admin/settings",{method:"PUT",body:JSON.stringify(e)})}async getUsageReport(e,t){let s=new URLSearchParams;e&&s.set("startDate",e),t&&s.set("endDate",t);let r=s.toString();return this.request(`/api/reports/usage${r?`?${r}`:""}`)}async generateUsageReport(e){return this.request("/api/reports/usage",{method:"POST",body:JSON.stringify(e)})}};e.s(["apiClient",0,r],15760)},84905,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(15760),a=e.i(60664);function i(){let[e,i]=(0,s.useState)([]),[n,u]=(0,s.useState)(!1),o=(e,t,s)=>{i(r=>[...r,{test:e,success:t,data:s,timestamp:new Date().toISOString()}])},c=async()=>{i([]),u(!0);try{let e=(0,a.getCurrentUser)();o("Firebase Auth",!!e,{email:e?.email,uid:e?.uid});let t=await (0,a.getCurrentUserToken)();o("Firebase Token",!!t,{tokenLength:t?.length});try{let e=await r.apiClient.getAgents();o("GET /api/agents",e.success,e)}catch(e){o("GET /api/agents",!1,{error:e.message})}try{let e=await r.apiClient.getTeams();o("GET /api/teams",e.success,e)}catch(e){o("GET /api/teams",!1,{error:e.message})}try{let e=await r.apiClient.getOverview();o("GET /api/overview",e.success,e)}catch(e){o("GET /api/overview",!1,{error:e.message})}}catch(e){o("Test Suite",!1,{error:e.message})}finally{u(!1)}};return(0,t.jsxs)("div",{className:"p-8 max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"API Test Page"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Test your API endpoints and authentication"})]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)("button",{onClick:c,disabled:n,className:"px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:n?"Running Tests...":"Run API Tests"})}),(0,t.jsx)("div",{className:"space-y-4",children:e.map((e,s)=>(0,t.jsxs)("div",{className:`p-4 rounded-lg border ${e.success?"bg-green-500/10 border-green-500/20":"bg-red-500/10 border-red-500/20"}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-foreground",children:e.test}),(0,t.jsx)("span",{className:`text-sm font-medium px-3 py-1 rounded-full ${e.success?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:e.success?"✓ PASS":"✗ FAIL"})]}),(0,t.jsx)("pre",{className:"text-xs text-muted-foreground overflow-auto p-3 bg-black/20 rounded",children:JSON.stringify(e.data,null,2)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:new Date(e.timestamp).toLocaleString()})]},s))}),0===e.length&&!n&&(0,t.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:(0,t.jsx)("p",{children:'Click "Run API Tests" to start testing your endpoints'})})]})}e.s(["default",()=>i])}]);