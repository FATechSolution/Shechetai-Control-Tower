(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,21218,e=>{"use strict";let t=(0,e.i(75254).default)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>t],21218)},63488,e=>{"use strict";let t=(0,e.i(75254).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>t],63488)},41868,e=>{"use strict";var t=e.i(43476),s=e.i(21218),a=e.i(63488);let r=(0,e.i(75254).default)("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);var o=e.i(71645),l=e.i(60664);function i(){let[e,i]=(0,o.useState)("idle"),[n,d]=(0,o.useState)(null),[m,c]=(0,o.useState)(!1),[x,u]=(0,o.useState)(!1),[h,g]=(0,o.useState)("shahidx345@gmail.com"),[p,f]=(0,o.useState)(""),[b,y]=(0,o.useState)("idle"),[j,N]=(0,o.useState)(""),w=async()=>{i("checking"),d(null);try{let e=await (0,l.getCurrentUserToken)(),t=await fetch("/api/overview",{headers:e?{Authorization:`Bearer ${e}`}:{}});if(t.ok){let e=await t.json();d(e.data),i("ok")}else i("error")}catch(e){i("error")}},v=async()=>{if(h){u(!0),f("");try{let e=await (0,l.getCurrentUserToken)();if(!e){f("Not authenticated"),u(!1);return}let t=await fetch("/api/debug/email",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({email:h,subject:"Test Email from Control Tower",message:"This is a test email to verify email configuration."})});if(t.ok)c(!0),setTimeout(()=>{c(!1),g("")},3e3);else{let e=await t.json();f(e.error||"Failed to send email")}}catch(e){f(e.message||"Failed to send email")}finally{u(!1)}}};return(0,t.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto space-y-4 sm:space-y-8 animate-fade-in-up",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground mb-1 sm:mb-2",children:"Debug & Tools"}),(0,t.jsx)("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Internal utilities and diagnostic tools for platform management"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[(0,t.jsxs)("div",{className:"bg-card border border-border rounded-lg p-4 sm:p-6 hover:shadow-lg hover:shadow-green-500/5 transition-all duration-300 animate-fade-in-up",style:{animationDelay:"0s"},children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(s.Activity,{className:`w-4 h-4 sm:w-5 sm:h-5 ${"ok"===e?"text-green-500 animate-pulse-glow":"text-muted-foreground"}`}),(0,t.jsx)("h3",{className:"font-semibold text-sm sm:text-base text-card-foreground",children:"Health Check"})]}),(0,t.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground mb-4",children:"Run a system health diagnostic"}),(0,t.jsx)("button",{onClick:w,disabled:"checking"===e,className:`w-full px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg font-medium text-xs sm:text-sm transition-all duration-200 ${"checking"===e?"bg-muted text-muted-foreground cursor-not-allowed":"bg-primary text-primary-foreground hover:bg-primary/90 hover:shadow-lg"}`,children:"checking"===e?"Checking...":"Run Check"}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-3 font-semibold",children:["Status:"," ","ok"===e?(0,t.jsx)("span",{className:"text-green-400",children:"Healthy ✓"}):"error"===e?(0,t.jsx)("span",{className:"text-red-400",children:"Error ✗"}):(0,t.jsx)("span",{className:"text-muted-foreground",children:"Idle"})]}),n&&(0,t.jsxs)("div",{className:"mt-3 text-xs space-y-1",children:[(0,t.jsxs)("p",{className:"text-muted-foreground",children:["Teams: ",(0,t.jsx)("span",{className:"text-foreground font-semibold",children:n.totalTeams||0})]}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:["Agents: ",(0,t.jsx)("span",{className:"text-foreground font-semibold",children:n.totalAgents||0})]})]})]}),(0,t.jsxs)("div",{className:"bg-card border border-border rounded-lg p-4 sm:p-6 hover:shadow-lg hover:shadow-primary/5 transition-all duration-300 animate-fade-in-up",style:{animationDelay:"0.1s"},children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(a.Mail,{className:`w-4 h-4 sm:w-5 sm:h-5 ${m?"text-green-500":"text-primary"}`}),(0,t.jsx)("h3",{className:"font-semibold text-sm sm:text-base text-card-foreground",children:"Test Email"})]}),(0,t.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground mb-4",children:"Send a test SMTP email"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("input",{type:"email",placeholder:"recipient@example.com",value:h,onChange:e=>g(e.target.value),disabled:x||m,className:"w-full px-3 py-2 bg-input border border-border rounded-lg text-xs sm:text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"}),p&&(0,t.jsx)("p",{className:"text-xs text-red-400",children:p}),(0,t.jsx)("button",{onClick:v,disabled:x||m||!h,className:`w-full px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg font-medium text-xs sm:text-sm transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${m?"bg-green-500/20 text-green-400":"bg-primary text-primary-foreground hover:bg-primary/90 hover:shadow-lg"}`,children:x?"Sending...":m?"Sent ✓":"Send"})]})]}),(0,t.jsxs)("div",{className:"bg-card border border-border rounded-lg p-4 sm:p-6 hover:shadow-lg hover:shadow-accent/5 transition-all duration-300 animate-fade-in-up",style:{animationDelay:"0.2s"},children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(r,{className:"w-4 h-4 sm:w-5 sm:h-5 text-accent"}),(0,t.jsx)("h3",{className:"font-semibold text-sm sm:text-base text-card-foreground",children:"API Base"})]}),(0,t.jsx)("code",{className:"block text-xs font-mono text-foreground bg-input p-2.5 sm:p-3 rounded break-all border border-border",children:`${window.location.protocol}//${window.location.host}`}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-3 font-semibold",children:["Namespace: ",(0,t.jsx)("code",{className:"text-foreground",children:"/api"})]})]})]})]})}e.s(["default",()=>i],41868)}]);